<!doctype html>
<html itemscope itemtype="http://schema.org/WebPage" lang="en" class="no-js">
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">


<link rel="shortcut icon" href="/favicons/favicon.ico" >
<link rel="apple-touch-icon" href="/favicons/apple-touch-icon-180x180.png" sizes="180x180">
<link rel="icon" type="image/png" href="/favicons/favicon-16x16.png" sizes="16x16">
<link rel="icon" type="image/png" href="/favicons/favicon-32x32.png" sizes="32x32">
<link rel="icon" type="image/png" href="/favicons/android-36x36.png" sizes="36x36">
<link rel="icon" type="image/png" href="/favicons/android-48x48.png" sizes="48x48">
<link rel="icon" type="image/png" href="/favicons/android-72x72.png" sizes="72x72">
<link rel="icon" type="image/png" href="/favicons/android-96x96.png" sizes="96x96">
<link rel="icon" type="image/png" href="/favicons/android-144x144.png" sizes="144x144">
<link rel="icon" type="image/png" href="/favicons/android-192x192.png" sizes="192x192">

<title>Описание файловой системы OverlayFS | Debuntarium</title>
<meta name="description" content="Мой неполный перевод статьи [Overlay Filesystem](https://www.kernel.org/doc/Documentation/filesystems/overlayfs.txt) из https://www.kernel.org
">
<meta property="og:url" content="https://debuntu.ru/a/opisanie-failovoi-sistemy-overlayfs/">
  <meta property="og:site_name" content="Debuntarium">
  <meta property="og:title" content="Описание файловой системы OverlayFS">
  <meta property="og:description" content="Мой неполный перевод статьи [Overlay Filesystem](https://www.kernel.org/doc/Documentation/filesystems/overlayfs.txt) из https://www.kernel.org">
  <meta property="og:locale" content="ru_ru">
  <meta property="og:type" content="article">
    <meta property="article:section" content="a">
    <meta property="article:published_time" content="2020-02-01T00:00:00+00:00">
    <meta property="article:modified_time" content="2020-02-01T00:00:00+00:00">
    <meta property="article:tag" content="VFS">
    <meta property="article:tag" content="FileSystem">
    <meta property="article:tag" content="Translation">

  <meta itemprop="name" content="Описание файловой системы OverlayFS">
  <meta itemprop="description" content="Мой неполный перевод статьи [Overlay Filesystem](https://www.kernel.org/doc/Documentation/filesystems/overlayfs.txt) из https://www.kernel.org">
  <meta itemprop="datePublished" content="2020-02-01T00:00:00+00:00">
  <meta itemprop="dateModified" content="2020-02-01T00:00:00+00:00">
  <meta itemprop="wordCount" content="2107">
  <meta itemprop="keywords" content="VFS,FileSystem,Translation">
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Описание файловой системы OverlayFS">
  <meta name="twitter:description" content="Мой неполный перевод статьи [Overlay Filesystem](https://www.kernel.org/doc/Documentation/filesystems/overlayfs.txt) из https://www.kernel.org">




<link rel="preload" href="/scss/main.min.5118d334f4d49e78b43432d75232dda13144ff70fc9d784048f9c31c8751ea0f.css" as="style">
<link href="/scss/main.min.5118d334f4d49e78b43432d75232dda13144ff70fc9d784048f9c31c8751ea0f.css" rel="stylesheet" integrity="">

<script
  src="https://code.jquery.com/jquery-3.7.1.min.js"
  integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g=="
  crossorigin="anonymous"></script>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-1HVBCPETY0"></script>
<script>
var doNotTrack = false;
if (!doNotTrack) {
	window.dataLayer = window.dataLayer || [];
	function gtag(){dataLayer.push(arguments);}
	gtag('js', new Date());
	gtag('config', 'G-1HVBCPETY0');
}
</script>
  </head>
  <body class="td-page">
    <header>
      <nav class="td-navbar js-navbar-scroll" data-bs-theme="dark">
<div class="container-fluid flex-column flex-md-row">
  <a class="navbar-brand" href="/"><span class="navbar-brand__logo navbar-logo"><svg id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 500 500" style="enable-background:new 0 0 500 500"><g><path style="fill:#fff" d="M116.8525 421.9722c-5.7041.0-10.3442-4.3127-10.3442-9.6129V88.183c0-5.3002 4.6401-9.6117 10.3442-9.6117H320.858c3.0347.0 9.3959.5498 11.7506 2.6302l.3545.3442 58.905 63.2912c2.3101 2.491 2.9202 8.4928 2.9202 11.3184v256.2039c0 5.3002-4.6407 9.6129-10.3436 9.6129H116.8525z"/><g><g><g><path style="fill:#767676" d="M384.4445 423.2066H116.852c-6.3839.0-11.5786-4.8658-11.5786-10.8474V88.1831c0-5.9804 5.1947-10.8461 11.5786-10.8461h204.0062c.377.0 9.2786.0329 12.568 2.9389l.3947.3833 58.9508 63.337c3.2135 3.4652 3.2514 11.7924 3.2514 12.1593v256.2036C396.0231 418.3408 390.8284 423.2066 384.4445 423.2066zM116.5079 411.9189c.0848.0278.1999.0531.3441.0531h267.5925c.1442.0.2581-.0253.3441-.0531V156.1556c-.0076-.9033-.3593-3.7347-.7034-5.0037l-57.6527-61.9416c-1.4651-.3176-4.4533-.6389-5.5742-.6389H116.852c-.143.0-.2594.024-.3441.0531V411.9189zm267.4533-261.149zM327.0321 89.371v.0013V89.371z"/></g></g></g><g><g><path style="fill:#5b7fc0" d="M189.0874 210.1754l.0012-.0012c7.7751.0012 15.0295 4.1862 18.932 10.9234 1.9177 3.3159 2.9305 7.1011 2.9293 10.9378.0 5.8394-2.2733 11.3304-6.4032 15.4604-4.1288 4.1288-9.6186 6.4032-15.458 6.4032s-11.328-2.2733-15.458-6.4032-6.4032-9.6186-6.4056-15.4628c.0012-6.025 2.454-11.4897 6.4116-15.4473C177.5953 212.627 183.0601 210.1742 189.0874 210.1754zm7.993 21.8576c.0012-1.4042-.3687-2.7868-1.063-3.9887-1.4293-2.4684-4.0833-3.9995-6.9299-4.0019-4.4077.0024-7.993 3.5877-7.993 7.993.0 2.1356.832 4.1431 2.3427 5.6539 1.5083 1.5083 3.5159 2.3403 5.6503 2.3415 2.1356.0 4.1443-.8308 5.6539-2.3403S197.0816 234.1722 197.0804 232.033z"/><path style="opacity:.3;fill:#fff" d="M189.0898 210.176c7.7763.0 15.0283 4.1826 18.926 10.9151 1.9201 3.3136 2.9377 7.0988 2.9353 10.9462.0024 12.0643-9.8065 21.8636-21.8613 21.8613-12.0547.0024-21.8636-9.8066-21.8612-21.8613.0-6.0285 2.4516-11.4921 6.4116-15.452C177.5977 212.6276 183.0612 210.176 189.0898 210.176zm7.9941 21.8612c0-1.4078-.3711-2.7892-1.0702-3.9959-1.4269-2.466-4.0797-3.9983-6.924-3.9983-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0024 4.4077 3.5865 7.9918 7.9942 7.9942 2.2027.0 4.2018-.8978 5.6479-2.3439C196.1861 236.239 197.0839 234.2399 197.0839 232.0372z"/><g><defs><path id="SVGID_1_" d="M194.7376 237.6875c-1.4461 1.4461-3.4452 2.3439-5.6479 2.3439-4.4077-.0024-7.9918-3.5865-7.9942-7.9942.0024-4.4125 3.5937-7.999 7.9942-7.9942 2.8443.0 5.497 1.5323 6.924 3.9983.6991 1.2067 1.0702 2.5881 1.0702 3.9959C197.0839 234.2399 196.1861 236.239 194.7376 237.6875z"/></defs><clipPath id="SVGID_2_"><use xlink:href="#SVGID_1_" style="overflow:visible"/></clipPath><path style="clip-path:url(#SVGID_2_);fill:#fff" d="M190.0704 225.0237c-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0011 1.9546.7088 3.7452 1.8782 5.1354-1.7447-1.4674-2.8575-3.663-2.8588-6.116.0024-4.4125 3.5936-7.999 7.9942-7.9942 2.3802-1e-4 4.616 1.0833 6.1218 2.8788C193.7885 225.7247 191.9774 225.0237 190.0704 225.0237z"/><path style="opacity:.13;clip-path:url(#SVGID_2_);fill:#020202" d="M190.0704 225.0237c-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0011 1.9546.7088 3.7452 1.8782 5.1354-1.7447-1.4674-2.8575-3.663-2.8588-6.116.0024-4.4125 3.5936-7.999 7.9942-7.9942 2.3802-1e-4 4.616 1.0833 6.1218 2.8788C193.7885 225.7247 191.9774 225.0237 190.0704 225.0237z"/></g><g><defs><path id="SVGID_3_" d="M189.0898 210.176c7.7763.0 15.0283 4.1826 18.926 10.9151 1.9201 3.3136 2.9377 7.0988 2.9353 10.9462.0024 12.0643-9.8065 21.8636-21.8613 21.8613-12.0547.0024-21.8636-9.8066-21.8612-21.8613.0-6.0285 2.4516-11.4921 6.4116-15.452C177.5977 212.6276 183.0612 210.176 189.0898 210.176zm7.9941 21.8612c0-1.4078-.3711-2.7892-1.0702-3.9959-1.4269-2.466-4.0797-3.9983-6.924-3.9983-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0024 4.4077 3.5865 7.9918 7.9942 7.9942 2.2027.0 4.2018-.8978 5.6479-2.3439C196.1861 236.239 197.0839 234.2399 197.0839 232.0372z"/></defs><clipPath id="SVGID_4_"><use xlink:href="#SVGID_3_" style="overflow:visible"/></clipPath><path style="clip-path:url(#SVGID_4_);fill:#5b7fc0" d="M172.6595 215.6045c-3.96 3.96-6.4116 9.4235-6.4116 15.452-.0024 12.0547 9.8066 21.8636 21.8613 21.8612 12.0547.0024 21.8636-9.797 21.8613-21.8612.0024-3.8475-1.0151-7.6326-2.9353-10.9462-3.8977-6.7324-11.1497-10.9151-18.926-10.9151C182.0806 209.1953 176.6171 211.647 172.6595 215.6045z"/></g></g><rect x="198.8952" y="225.1043" style="fill:#5b7fc0" width="122.6266" height="13.8671"/></g><g><path style="fill:#d95140" d="M189.0874 155.7611l.0012-.0012c7.7751.0012 15.0295 4.1862 18.932 10.9234 1.9177 3.3159 2.9305 7.1011 2.9293 10.9378.0 5.8394-2.2733 11.3304-6.4032 15.4604-4.1288 4.1288-9.6186 6.4032-15.458 6.4032s-11.328-2.2733-15.458-6.4032-6.4032-9.6186-6.4056-15.4628c.0012-6.0249 2.454-11.4897 6.4116-15.4473C177.5953 158.2128 183.0601 155.7599 189.0874 155.7611zm7.993 21.8577c.0012-1.4042-.3687-2.7868-1.063-3.9887-1.4293-2.4684-4.0833-3.9995-6.9299-4.0019-4.4077.0024-7.993 3.5877-7.993 7.993.0 2.1356.832 4.1431 2.3427 5.6539 1.5083 1.5083 3.5159 2.3403 5.6503 2.3415 2.1356.0 4.1443-.8308 5.6539-2.3403C196.2508 181.7667 197.0816 179.758 197.0804 177.6188z"/><path style="opacity:.3;fill:#fff" d="M189.0898 155.7617c7.7763.0 15.0283 4.1826 18.926 10.9151 1.9201 3.3135 2.9377 7.0987 2.9353 10.9462.0024 12.0643-9.8065 21.8636-21.8613 21.8613-12.0547.0024-21.8636-9.8066-21.8612-21.8613.0-6.0285 2.4516-11.4921 6.4116-15.452C177.5977 158.2134 183.0612 155.7617 189.0898 155.7617zm7.9941 21.8613c0-1.4078-.3711-2.7892-1.0702-3.9959-1.4269-2.466-4.0797-3.9983-6.924-3.9983-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0024 4.4077 3.5865 7.9918 7.9942 7.9942 2.2027.0 4.2018-.8978 5.6479-2.3439C196.1861 181.8248 197.0839 179.8256 197.0839 177.623z"/><g><defs><path id="SVGID_5_" d="M194.7376 183.2733c-1.4461 1.4461-3.4452 2.3439-5.6479 2.3439-4.4077-.0024-7.9918-3.5865-7.9942-7.9942.0024-4.4125 3.5937-7.9989 7.9942-7.9942 2.8443.0 5.497 1.5323 6.924 3.9983.6991 1.2067 1.0702 2.5881 1.0702 3.9959C197.0839 179.8256 196.1861 181.8248 194.7376 183.2733z"/></defs><clipPath id="SVGID_6_"><use xlink:href="#SVGID_5_" style="overflow:visible"/></clipPath><path style="clip-path:url(#SVGID_6_);fill:#fff" d="M190.0704 170.6095c-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0011 1.9546.7088 3.7452 1.8782 5.1354-1.7447-1.4674-2.8575-3.663-2.8588-6.116.0024-4.4125 3.5936-7.999 7.9942-7.9942 2.3802-1e-4 4.616 1.0833 6.1218 2.8788C193.7885 171.3104 191.9774 170.6095 190.0704 170.6095z"/><path style="opacity:.13;clip-path:url(#SVGID_6_);fill:#020202" d="M190.0704 170.6095c-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0011 1.9546.7088 3.7452 1.8782 5.1354-1.7447-1.4674-2.8575-3.663-2.8588-6.116.0024-4.4125 3.5936-7.999 7.9942-7.9942 2.3802-1e-4 4.616 1.0833 6.1218 2.8788C193.7885 171.3104 191.9774 170.6095 190.0704 170.6095z"/></g><g><defs><path id="SVGID_7_" d="M189.0898 155.7617c7.7763.0 15.0283 4.1826 18.926 10.9151 1.9201 3.3135 2.9377 7.0987 2.9353 10.9462.0024 12.0643-9.8065 21.8636-21.8613 21.8613-12.0547.0024-21.8636-9.8066-21.8612-21.8613.0-6.0285 2.4516-11.4921 6.4116-15.452C177.5977 158.2134 183.0612 155.7617 189.0898 155.7617zm7.9941 21.8613c0-1.4078-.3711-2.7892-1.0702-3.9959-1.4269-2.466-4.0797-3.9983-6.924-3.9983-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0024 4.4077 3.5865 7.9918 7.9942 7.9942 2.2027.0 4.2018-.8978 5.6479-2.3439C196.1861 181.8248 197.0839 179.8256 197.0839 177.623z"/></defs><clipPath id="SVGID_8_"><use xlink:href="#SVGID_7_" style="overflow:visible"/></clipPath><path style="clip-path:url(#SVGID_8_);fill:#d95140" d="M172.6595 161.1903c-3.96 3.96-6.4116 9.4235-6.4116 15.452-.0024 12.0547 9.8066 21.8636 21.8613 21.8613 12.0547.0024 21.8636-9.797 21.8613-21.8613.0024-3.8474-1.0151-7.6326-2.9353-10.9462-3.8977-6.7324-11.1497-10.9151-18.926-10.9151C182.0806 154.7811 176.6171 157.2327 172.6595 161.1903z"/></g><rect x="198.8952" y="170.69" style="fill:#d95140" width="122.6266" height="13.8671"/></g><g><g><path style="fill:#56a55c" d="M189.5379 264.6147l.0012-.0012c7.7751.0012 15.0294 4.1862 18.932 10.9235 1.9177 3.3159 2.9305 7.1011 2.9293 10.9378.0 5.8394-2.2733 11.3304-6.4032 15.4604-4.1288 4.1288-9.6186 6.4032-15.458 6.4032-5.8394.0-11.3281-2.2733-15.458-6.4032-4.13-4.13-6.4032-9.6186-6.4056-15.4628.0012-6.0249 2.454-11.4897 6.4116-15.4472C178.0458 267.0663 183.5105 264.6135 189.5379 264.6147zm7.993 21.8576c.0012-1.4042-.3687-2.7868-1.063-3.9887-1.4293-2.4684-4.0833-3.9995-6.9299-4.0019-4.4077.0024-7.993 3.5877-7.993 7.993.0 2.1356.832 4.1431 2.3427 5.6538 1.5083 1.5083 3.5159 2.3403 5.6503 2.3415 2.1356.0 4.1443-.8308 5.6539-2.3403C196.7013 290.6202 197.5321 288.6115 197.5309 286.4723z"/><path style="opacity:.3;fill:#fff" d="M189.5403 264.6153c7.7763.0 15.0283 4.1826 18.926 10.9151 1.9201 3.3135 2.9377 7.0987 2.9353 10.9462.0024 12.0643-9.8065 21.8636-21.8613 21.8613-12.0547.0024-21.8636-9.8065-21.8612-21.8613.0-6.0285 2.4516-11.492 6.4116-15.452C178.0482 267.0669 183.5117 264.6153 189.5403 264.6153zm7.9941 21.8612c0-1.4078-.3711-2.7892-1.0702-3.9959-1.4269-2.466-4.0797-3.9983-6.924-3.9983-4.4005-.0048-7.9918 3.5817-7.9942 7.9941.0024 4.4077 3.5865 7.9918 7.9942 7.9942 2.2027.0 4.2018-.8978 5.6479-2.3439C196.6366 290.6783 197.5344 288.6792 197.5344 286.4765z"/><g><defs><path id="SVGID_9_" d="M195.1881 292.1268c-1.4461 1.4461-3.4452 2.3439-5.6479 2.3439-4.4077-.0024-7.9918-3.5865-7.9942-7.9942.0024-4.4125 3.5937-7.9989 7.9942-7.9941 2.8443.0 5.497 1.5323 6.924 3.9983.6991 1.2067 1.0702 2.5881 1.0702 3.9959C197.5344 288.6792 196.6366 290.6783 195.1881 292.1268z"/></defs><clipPath id="SVGID_10_"><use xlink:href="#SVGID_9_" style="overflow:visible"/></clipPath><path style="clip-path:url(#SVGID_10_);fill:#fff" d="M190.5209 279.463c-4.4005-.0048-7.9918 3.5817-7.9942 7.9941.0011 1.9547.7088 3.7452 1.8782 5.1354-1.7446-1.4674-2.8575-3.6631-2.8588-6.1161.0024-4.4125 3.5936-7.999 7.9942-7.9941 2.3802-1e-4 4.616 1.0833 6.1218 2.8788C194.239 280.164 192.4279 279.463 190.5209 279.463z"/><path style="opacity:.13;clip-path:url(#SVGID_10_);fill:#020202" d="M190.5209 279.463c-4.4005-.0048-7.9918 3.5817-7.9942 7.9941.0011 1.9547.7088 3.7452 1.8782 5.1354-1.7446-1.4674-2.8575-3.6631-2.8588-6.1161.0024-4.4125 3.5936-7.999 7.9942-7.9941 2.3802-1e-4 4.616 1.0833 6.1218 2.8788C194.239 280.164 192.4279 279.463 190.5209 279.463z"/></g><g><defs><path id="SVGID_11_" d="M189.5403 264.6153c7.7763.0 15.0283 4.1826 18.926 10.9151 1.9201 3.3135 2.9377 7.0987 2.9353 10.9462.0024 12.0643-9.8065 21.8636-21.8613 21.8613-12.0547.0024-21.8636-9.8065-21.8612-21.8613.0-6.0285 2.4516-11.492 6.4116-15.452C178.0482 267.0669 183.5117 264.6153 189.5403 264.6153zm7.9941 21.8612c0-1.4078-.3711-2.7892-1.0702-3.9959-1.4269-2.466-4.0797-3.9983-6.924-3.9983-4.4005-.0048-7.9918 3.5817-7.9942 7.9941.0024 4.4077 3.5865 7.9918 7.9942 7.9942 2.2027.0 4.2018-.8978 5.6479-2.3439C196.6366 290.6783 197.5344 288.6792 197.5344 286.4765z"/></defs><clipPath id="SVGID_12_"><use xlink:href="#SVGID_11_" style="overflow:visible"/></clipPath><path style="clip-path:url(#SVGID_12_);fill:#56a55c" d="M173.11 270.0439c-3.96 3.96-6.4116 9.4235-6.4116 15.452-.0024 12.0547 9.8066 21.8636 21.8613 21.8613 12.0547.0024 21.8636-9.797 21.8613-21.8613.0024-3.8474-1.0151-7.6326-2.9353-10.9462-3.8977-6.7325-11.1497-10.9151-18.926-10.9151C182.5311 263.6346 177.0676 266.0863 173.11 270.0439z"/></g></g><rect x="199.3456" y="279.5436" style="fill:#56a55c" width="122.6266" height="13.8671"/></g><g><g><path style="fill:#f1bc42" d="M189.0874 318.7208l.0012-.0012c7.7751.0012 15.0295 4.1862 18.932 10.9234 1.9177 3.3159 2.9305 7.1011 2.9293 10.9378.0 5.8394-2.2733 11.3305-6.4032 15.4604-4.1288 4.1288-9.6186 6.4032-15.458 6.4032s-11.328-2.2733-15.458-6.4032-6.4032-9.6186-6.4056-15.4628c.0012-6.025 2.454-11.4897 6.4116-15.4472C177.5953 321.1724 183.0601 318.7196 189.0874 318.7208zm7.993 21.8576c.0012-1.4042-.3687-2.7868-1.063-3.9887-1.4293-2.4684-4.0833-3.9995-6.9299-4.0019-4.4077.0024-7.993 3.5877-7.993 7.993.0 2.1356.832 4.1431 2.3427 5.6539 1.5083 1.5083 3.5159 2.3403 5.6503 2.3415 2.1356.0 4.1443-.8308 5.6539-2.3403S197.0816 342.7176 197.0804 340.5784z"/><path style="opacity:.3;fill:#fff" d="M189.0898 318.7214c7.7763.0 15.0283 4.1826 18.926 10.915 1.9201 3.3136 2.9377 7.0988 2.9353 10.9462.0024 12.0643-9.8065 21.8636-21.8613 21.8612-12.0547.0024-21.8636-9.8065-21.8612-21.8612.0-6.0285 2.4516-11.4921 6.4116-15.452C177.5977 321.173 183.0612 318.7214 189.0898 318.7214zm7.9941 21.8612c0-1.4078-.3711-2.7892-1.0702-3.9959-1.4269-2.466-4.0797-3.9983-6.924-3.9983-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0024 4.4077 3.5865 7.9918 7.9942 7.9942 2.2027.0 4.2018-.8978 5.6479-2.3439C196.1861 344.7844 197.0839 342.7853 197.0839 340.5826z"/><g><defs><path id="SVGID_13_" d="M194.7376 346.2329c-1.4461 1.4461-3.4452 2.3439-5.6479 2.3439-4.4077-.0024-7.9918-3.5865-7.9942-7.9942.0024-4.4125 3.5937-7.999 7.9942-7.9942 2.8443.0 5.497 1.5323 6.924 3.9983.6991 1.2067 1.0702 2.5881 1.0702 3.9959C197.0839 342.7853 196.1861 344.7844 194.7376 346.2329z"/></defs><clipPath id="SVGID_14_"><use xlink:href="#SVGID_13_" style="overflow:visible"/></clipPath><path style="clip-path:url(#SVGID_14_);fill:#fff" d="M190.0704 333.5691c-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0011 1.9547.7088 3.7452 1.8782 5.1354-1.7447-1.4674-2.8575-3.6631-2.8588-6.1161.0024-4.4125 3.5936-7.999 7.9942-7.9942 2.3802-1e-4 4.616 1.0834 6.1218 2.8788C193.7885 334.2701 191.9774 333.5691 190.0704 333.5691z"/><path style="opacity:.13;clip-path:url(#SVGID_14_);fill:#020202" d="M190.0704 333.5691c-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0011 1.9547.7088 3.7452 1.8782 5.1354-1.7447-1.4674-2.8575-3.6631-2.8588-6.1161.0024-4.4125 3.5936-7.999 7.9942-7.9942 2.3802-1e-4 4.616 1.0834 6.1218 2.8788C193.7885 334.2701 191.9774 333.5691 190.0704 333.5691z"/></g><g><defs><path id="SVGID_15_" d="M189.0898 318.7214c7.7763.0 15.0283 4.1826 18.926 10.915 1.9201 3.3136 2.9377 7.0988 2.9353 10.9462.0024 12.0643-9.8065 21.8636-21.8613 21.8612-12.0547.0024-21.8636-9.8065-21.8612-21.8612.0-6.0285 2.4516-11.4921 6.4116-15.452C177.5977 321.173 183.0612 318.7214 189.0898 318.7214zm7.9941 21.8612c0-1.4078-.3711-2.7892-1.0702-3.9959-1.4269-2.466-4.0797-3.9983-6.924-3.9983-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0024 4.4077 3.5865 7.9918 7.9942 7.9942 2.2027.0 4.2018-.8978 5.6479-2.3439C196.1861 344.7844 197.0839 342.7853 197.0839 340.5826z"/></defs><clipPath id="SVGID_16_"><use xlink:href="#SVGID_15_" style="overflow:visible"/></clipPath><path style="clip-path:url(#SVGID_16_);fill:#f1bc42" d="M172.6595 324.15c-3.96 3.96-6.4116 9.4235-6.4116 15.452-.0024 12.0547 9.8066 21.8636 21.8613 21.8612 12.0547.0024 21.8636-9.797 21.8613-21.8612.0024-3.8474-1.0151-7.6327-2.9353-10.9462-3.8977-6.7324-11.1497-10.9151-18.926-10.9151C182.0806 317.7407 176.6171 320.1924 172.6595 324.15z"/></g></g><rect x="198.8952" y="333.6497" style="fill:#f1bc42" width="122.6266" height="13.8671"/></g></g></svg></span><span class="navbar-brand__name">Debuntarium</span></a>
  <div class="td-navbar-nav-scroll ms-md-auto" id="main_navbar">
    <ul class="navbar-nav">
      <li class="nav-item">
        <a class="nav-link" href="/n/"><span>Заметки</span></a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="/manuals/"><span>Инструкции</span></a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="/refbooks/"><span>Справочники</span></a>
      </li>
      <li class="nav-item">
        <a class="nav-link active" href="/a/"><span>Статьи</span></a>
      </li>
      <li class="td-light-dark-menu nav-item dropdown">
        <svg xmlns="http://www.w3.org/2000/svg" class="d-none">
  <symbol id="check2" viewBox="0 0 16 16">
    <path d="M13.854 3.646a.5.5 0 0 1 0 .708l-7 7a.5.5 0 0 1-.708 0l-3.5-3.5a.5.5 0 1 1 .708-.708L6.5 10.293l6.646-6.647a.5.5 0 0 1 .708 0z"/>
  </symbol>
  <symbol id="circle-half" viewBox="0 0 16 16">
    <path d="M8 15A7 7 0 1 0 8 1v14zm0 1A8 8 0 1 1 8 0a8 8 0 0 1 0 16z"/>
  </symbol>
  <symbol id="moon-stars-fill" viewBox="0 0 16 16">
    <path d="M6 .278a.768.768 0 0 1 .08.858 7.208 7.208 0 0 0-.878 3.46c0 4.021 3.278 7.277 7.318 7.277.527 0 1.04-.055 1.533-.16a.787.787 0 0 1 .81.316.733.733 0 0 1-.031.893A8.349 8.349 0 0 1 8.344 16C3.734 16 0 12.286 0 7.71 0 4.266 2.114 1.312 5.124.06A.752.752 0 0 1 6 .278z"/>
    <path d="M10.794 3.148a.217.217 0 0 1 .412 0l.387 1.162c.173.518.579.924 1.097 1.097l1.162.387a.217.217 0 0 1 0 .412l-1.162.387a1.734 1.734 0 0 0-1.097 1.097l-.387 1.162a.217.217 0 0 1-.412 0l-.387-1.162A1.734 1.734 0 0 0 9.31 6.593l-1.162-.387a.217.217 0 0 1 0-.412l1.162-.387a1.734 1.734 0 0 0 1.097-1.097l.387-1.162zM13.863.099a.145.145 0 0 1 .274 0l.258.774c.115.346.386.617.732.732l.774.258a.145.145 0 0 1 0 .274l-.774.258a1.156 1.156 0 0 0-.732.732l-.258.774a.145.145 0 0 1-.274 0l-.258-.774a1.156 1.156 0 0 0-.732-.732l-.774-.258a.145.145 0 0 1 0-.274l.774-.258c.346-.115.617-.386.732-.732L13.863.1z"/>
  </symbol>
  <symbol id="sun-fill" viewBox="0 0 16 16">
    <path d="M8 12a4 4 0 1 0 0-8 4 4 0 0 0 0 8zM8 0a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 0zm0 13a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 13zm8-5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2a.5.5 0 0 1 .5.5zM3 8a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2A.5.5 0 0 1 3 8zm10.657-5.657a.5.5 0 0 1 0 .707l-1.414 1.415a.5.5 0 1 1-.707-.708l1.414-1.414a.5.5 0 0 1 .707 0zm-9.193 9.193a.5.5 0 0 1 0 .707L3.05 13.657a.5.5 0 0 1-.707-.707l1.414-1.414a.5.5 0 0 1 .707 0zm9.193 2.121a.5.5 0 0 1-.707 0l-1.414-1.414a.5.5 0 0 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .707zM4.464 4.465a.5.5 0 0 1-.707 0L2.343 3.05a.5.5 0 1 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .708z"/>
  </symbol>
</svg>

<button class="btn btn-link nav-link dropdown-toggle d-flex align-items-center"
        id="bd-theme"
        type="button"
        aria-expanded="false"
        data-bs-toggle="dropdown"
        data-bs-display="static"
        aria-label="Toggle theme (auto)">
  <svg class="bi my-1 theme-icon-active"><use href="#circle-half"></use></svg>
</button>
<ul class="dropdown-menu dropdown-menu-end" aria-labelledby="bd-theme-text">
  <li>
    <button type="button" class="dropdown-item d-flex align-items-center" data-bs-theme-value="light" aria-pressed="false">
      <svg class="bi me-2 opacity-50"><use href="#sun-fill"></use></svg>
      Light
      <svg class="bi ms-auto d-none"><use href="#check2"></use></svg>
    </button>
  </li>
  <li>
    <button type="button" class="dropdown-item d-flex align-items-center" data-bs-theme-value="dark" aria-pressed="false">
      <svg class="bi me-2 opacity-50"><use href="#moon-stars-fill"></use></svg>
      Dark
      <svg class="bi ms-auto d-none"><use href="#check2"></use></svg>
    </button>
  </li>
  <li>
    <button type="button" class="dropdown-item d-flex align-items-center active" data-bs-theme-value="auto" aria-pressed="true">
      <svg class="bi me-2 opacity-50"><use href="#circle-half"></use></svg>
      Auto
      <svg class="bi ms-auto d-none"><use href="#check2"></use></svg>
    </button>
  </li>
</ul>

      </li>
      </ul>
  </div>
  <div class="d-none d-lg-block">
    
  </div>
</div>
</nav>
    </header>
    <div class="container-fluid td-outer">
      <div class="td-main">
        <div class="row flex-xl-nowrap">
          <aside class="col-12 col-md-3 col-xl-2 td-sidebar d-print-none">
            <div id="td-sidebar-menu" class="td-sidebar__inner">
  <form class="td-sidebar__search d-flex align-items-center">
    
    <button class="btn btn-link td-sidebar__toggle d-md-none p-0 ms-3 fas fa-bars" type="button" data-bs-toggle="collapse" data-bs-target="#td-section-nav" aria-controls="td-section-nav" aria-expanded="false" aria-label="Toggle section navigation">
    </button>
  </form>
  <nav class="td-sidebar-nav collapse" id="td-section-nav">
    <ul class="td-sidebar-nav__section pe-md-3 ul-0">
      <li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id="m-a-li">
  <a href="/a/" class="align-left ps-0 td-sidebar-link td-sidebar-link__section tree-root" id="m-a"><span class="">Статьи</span></a>
  <ul class="ul-1">
    <li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-acmak-sborka-rpm-paketa-dlya-centos7-li">
  <a href="/a/cmak-sborka-rpm-paketa-dlya-centos7/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-acmak-sborka-rpm-paketa-dlya-centos7"><span class="">CMAK. 01. Сборка rpm-пакета для CentOS7</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-akafdrop-sborka-jar-paketa-li">
  <a href="/a/kafdrop-sborka-jar-paketa/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-akafdrop-sborka-jar-paketa"><span class="">Kafdrop. 01. Сборка jar-пакета</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-akafdrop-ustanovka-i-nastroika-li">
  <a href="/a/kafdrop-ustanovka-i-nastroika/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-akafdrop-ustanovka-i-nastroika"><span class="">Kafdrop. 02. Установка и настройка</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-austanovka-cockpit-s-avtoobnovlyaemym-tls-sertifikatom-iz-freeipa-li">
  <a href="/a/ustanovka-cockpit-s-avtoobnovlyaemym-tls-sertifikatom-iz-freeipa/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-austanovka-cockpit-s-avtoobnovlyaemym-tls-sertifikatom-iz-freeipa"><span class="">Установка Cockpit с автообновляемым TLS-сертификатом из FreeIPA</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-austanovka-jupyterhub-na-centos-7-li">
  <a href="/a/ustanovka-jupyterhub-na-centos-7/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-austanovka-jupyterhub-na-centos-7"><span class="">Установка JupyterHub на CentOS 7 (draft)</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-austanovka-nexus-repository-manager-li">
  <a href="/a/ustanovka-nexus-repository-manager/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-austanovka-nexus-repository-manager"><span class="">Установка Nexus Repository Manager</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-amokey-polzovatelskii-servis-sbrosa-smeny-parolei-freeipa-li">
  <a href="/a/mokey-polzovatelskii-servis-sbrosa-smeny-parolei-freeipa/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-amokey-polzovatelskii-servis-sbrosa-smeny-parolei-freeipa"><span class="">Mokey - пользовательский сервис сброса/смены паролей FreeIPA</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-anastroika-autentifikacii-avtorizacii-v-apache-spark-li">
  <a href="/a/nastroika-autentifikacii-avtorizacii-v-apache-spark/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-anastroika-autentifikacii-avtorizacii-v-apache-spark"><span class="">Настройка аутентификации/авторизации в Apache Spark</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-asozdanie-system-account-dlya-podklyucheniya-ldap-klienta-k-freeipa-li">
  <a href="/a/sozdanie-system-account-dlya-podklyucheniya-ldap-klienta-k-freeipa/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-asozdanie-system-account-dlya-podklyucheniya-ldap-klienta-k-freeipa"><span class="">Создание system account для подключения LDAP-клиента к FreeIPA</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-aispolzovanie-apache-sqoop-dlya-importa-eksporta-dannyh-mezhdu-postgresql-i-hdfs-li">
  <a href="/a/ispolzovanie-apache-sqoop-dlya-importa-eksporta-dannyh-mezhdu-postgresql-i-hdfs/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-aispolzovanie-apache-sqoop-dlya-importa-eksporta-dannyh-mezhdu-postgresql-i-hdfs"><span class="">Использование Apache Sqoop для импорта/экспорта данных между PostgreSQL и HDFS</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-anastroika-ldap-autentifikacii-v-nexus-repository-manager-li">
  <a href="/a/nastroika-ldap-autentifikacii-v-nexus-repository-manager/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-anastroika-ldap-autentifikacii-v-nexus-repository-manager"><span class="">Настройка LDAP-аутентификации в Nexus Repository Manager</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-abest-practices-for-using-ldap-link-with-vertica-perevod-li">
  <a href="/a/best-practices-for-using-ldap-link-with-vertica-perevod/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-abest-practices-for-using-ldap-link-with-vertica-perevod"><span class="">Best Practices for Using LDAP Link with Vertica (перевод)</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-ajenkins-problemy-vypolneniya-udalyonnyh-komand-v-setyah-s-stateful-firewall-i-sposoby-ih-resheniya-li">
  <a href="/a/jenkins-problemy-vypolneniya-udalyonnyh-komand-v-setyah-s-stateful-firewall-i-sposoby-ih-resheniya/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-ajenkins-problemy-vypolneniya-udalyonnyh-komand-v-setyah-s-stateful-firewall-i-sposoby-ih-resheniya"><span class="">Jenkins Проблемы выполнения удалённых команд в сетях со stateful firewall и способы их решения</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-asborka-rpm-paketa-nginx-c-modulyami-dlya-kafka-li">
  <a href="/a/sborka-rpm-paketa-nginx-c-modulyami-dlya-kafka/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-asborka-rpm-paketa-nginx-c-modulyami-dlya-kafka"><span class="">Сборка rpm-пакета nginx c модулями для kafka</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-abekap-dampa-bazy-postgresql-i-ego-vosstanovlenie-na-novom-servere-li">
  <a href="/a/bekap-dampa-bazy-postgresql-i-ego-vosstanovlenie-na-novom-servere/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-abekap-dampa-bazy-postgresql-i-ego-vosstanovlenie-na-novom-servere"><span class="">Бэкап дампа базы Postgresql и его восстановление на новом сервере</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-avoid-linux-posleustanovochnye-shagi-li">
  <a href="/a/void-linux-posleustanovochnye-shagi/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-avoid-linux-posleustanovochnye-shagi"><span class="">Void Linux Послеустановочные шаги</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-achto-takoe-zakrytyi-klyuch-otkrytyi-klyuch-zapros-na-sertifikaciyu-sertifikat-otkrytogo-klyucha-li">
  <a href="/a/chto-takoe-zakrytyi-klyuch-otkrytyi-klyuch-zapros-na-sertifikaciyu-sertifikat-otkrytogo-klyucha/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-achto-takoe-zakrytyi-klyuch-otkrytyi-klyuch-zapros-na-sertifikaciyu-sertifikat-otkrytogo-klyucha"><span class="">Что такое Закрытый Ключ, Открытый Ключ, Запрос На Сертификацию, Сертификат Открытого Ключа</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child active-path" id="m-aopisanie-failovoi-sistemy-overlayfs-li">
  <a href="/a/opisanie-failovoi-sistemy-overlayfs/" class="align-left ps-0 active td-sidebar-link td-sidebar-link__page" id="m-aopisanie-failovoi-sistemy-overlayfs"><span class="td-sidebar-nav-active-item">Описание файловой системы OverlayFS</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-apath-mtu-discovery-i-prochee-svyazannoe-s-etim-li">
  <a href="/a/path-mtu-discovery-i-prochee-svyazannoe-s-etim/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-apath-mtu-discovery-i-prochee-svyazannoe-s-etim"><span class="">Path MTU Discovery и прочее связанное с этим</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-aopisanie-vfs-virtualnoi-failovoi-sistemy-linux-li">
  <a href="/a/opisanie-vfs-virtualnoi-failovoi-sistemy-linux/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-aopisanie-vfs-virtualnoi-failovoi-sistemy-linux"><span class="">Описание VFS Виртуальной Файловой Системы Linux</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-abezopasnoe-umenshenie-logicheskogo-toma-lvm-s-failovoi-sistemoi-btrfs-li">
  <a href="/a/bezopasnoe-umenshenie-logicheskogo-toma-lvm-s-failovoi-sistemoi-btrfs/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-abezopasnoe-umenshenie-logicheskogo-toma-lvm-s-failovoi-sistemoi-btrfs"><span class="">Безопасное уменьшение логического тома LVM с файловой системой Btrfs</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-achem-konsol-otlichaetsya-ot-terminala-li">
  <a href="/a/chem-konsol-otlichaetsya-ot-terminala/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-achem-konsol-otlichaetsya-ot-terminala"><span class="">Чем консоль отличается от терминала</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-austanovka-plone-cms-li">
  <a href="/a/ustanovka-plone-cms/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-austanovka-plone-cms"><span class="">Установка Plone CMS</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-atradicionnye-prava-dostupa-unix-i-acl-li">
  <a href="/a/tradicionnye-prava-dostupa-unix-i-acl/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-atradicionnye-prava-dostupa-unix-i-acl"><span class="">Traditional Unix permissions и Access Control Lists</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-arezervnoe-kopirovanie-plone-li">
  <a href="/a/rezervnoe-kopirovanie-plone/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-arezervnoe-kopirovanie-plone"><span class="">Резервное копирование Plone</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-achroot-rsync-dlya-bezopasnogo-sbora-bekapov-s-udalyonnyh-hostov-li">
  <a href="/a/chroot-rsync-dlya-bezopasnogo-sbora-bekapov-s-udalyonnyh-hostov/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-achroot-rsync-dlya-bezopasnogo-sbora-bekapov-s-udalyonnyh-hostov"><span class="">Chroot rsync для безопасного сбора бэкапов с удалённых хостов</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-aozdanie-kopii-saita-plone-li">
  <a href="/a/ozdanie-kopii-saita-plone/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-aozdanie-kopii-saita-plone"><span class="">Создание копии сайта Plone</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-asozdanie-kopii-saita-plone-li">
  <a href="/a/sozdanie-kopii-saita-plone/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-asozdanie-kopii-saita-plone"><span class="">Создание копии сайта Plone</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-adobavlenie-recaptcha-v-plone-li">
  <a href="/a/dobavlenie-recaptcha-v-plone/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-adobavlenie-recaptcha-v-plone"><span class="">Добавление reCAPTCHA в Plone</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-aispolzovanie-composer-dlya-ustanovki-i-upravleniya-zavisimostyami-drupal-8-li">
  <a href="/a/ispolzovanie-composer-dlya-ustanovki-i-upravleniya-zavisimostyami-drupal-8/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-aispolzovanie-composer-dlya-ustanovki-i-upravleniya-zavisimostyami-drupal-8"><span class="">Использование Composer для установки и управления зависимостями Drupal 8</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-alvm2-sozdanie-peremeschenie-i-udalenie-logicheskih-tomov-li">
  <a href="/a/lvm2-sozdanie-peremeschenie-i-udalenie-logicheskih-tomov/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-alvm2-sozdanie-peremeschenie-i-udalenie-logicheskih-tomov"><span class="">LVM2 — создание, перемещение и удаление логических томов</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-afreebsd-ustanovka-udalenie-programm-li">
  <a href="/a/freebsd-ustanovka-udalenie-programm/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-afreebsd-ustanovka-udalenie-programm"><span class="">FreeBSD Установка, удаление программ</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-austanovka-i-ispolzovanie-v-freebsd-9-1-novogo-paketnogo-menedzhera-pkgng-li">
  <a href="/a/ustanovka-i-ispolzovanie-v-freebsd-9-1-novogo-paketnogo-menedzhera-pkgng/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-austanovka-i-ispolzovanie-v-freebsd-9-1-novogo-paketnogo-menedzhera-pkgng"><span class="">Установка и использование в FreeBSD 9.1 нового пакетного менеджера pkgng</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-austanovka-postgresql-90-na-debian-60-li">
  <a href="/a/ustanovka-postgresql-90-na-debian-60/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-austanovka-postgresql-90-na-debian-60"><span class="">Установка PostgreSQL 9.0 на Debian 6.0</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-anastroyka-prozrachnogo-squid3-squidguard-li">
  <a href="/a/nastroyka-prozrachnogo-squid3-squidguard/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-anastroyka-prozrachnogo-squid3-squidguard"><span class="">Настройка прозрачного squid3 &#43; squidGuard</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-austanovka-egroupware-1-8-na-debian-60-li">
  <a href="/a/ustanovka-egroupware-1-8-na-debian-6.0/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-austanovka-egroupware-1-8-na-debian-60"><span class="">Установка egroupware 1.8 на debian 6.0</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-austanovka-eclipse-3-6-helios-v-ubuntu-li">
  <a href="/a/ustanovka-eclipse-3-6-helios-v-ubuntu/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-austanovka-eclipse-3-6-helios-v-ubuntu"><span class="">Установка Eclipse 3.6 (Helios) в Ubuntu</span></a>
</li>
  </ul>
</li>
    </ul>
  </nav>
</div>

          </aside>
          <aside class="d-none d-xl-block col-xl-2 td-sidebar-toc d-print-none">
            <div class="td-page-meta ms-2 pb-1 pt-2 mb-0">

</div>

            


<div class="td-toc"><nav id="TableOfContents">
  <ul>
    <li><a href="#overlay-filesystem">Overlay Filesystem</a>
      <ul>
        <li><a href="#overlay-объекты">Overlay объекты</a></li>
        <li><a href="#верхний-и-нижний-слои">Верхний и нижний слои</a></li>
        <li><a href="#каталоги">Каталоги</a></li>
        <li><a href="#выбеленные-и-непрозрачные-каталоги">&ldquo;Выбеленные&rdquo; и &ldquo;непрозрачные&rdquo; каталоги</a></li>
        <li><a href="#системный-запрос-readdir-чтение-каталога">Системный запрос readdir (Чтение каталога)</a></li>
        <li><a href="#переименование-каталога">Переименование каталога</a></li>
        <li><a href="#прочие-объекты-не-каталоги">Прочие объекты не-Каталоги</a></li>
        <li><a href="#множество-нижних-слоёв">Множество нижних слоёв</a></li>
        <li><a href="#копирование-только-метаданных">Копирование только метаданных</a></li>
        <li><a href="#расшаривание-и-копирование-слоёв">Расшаривание и копирование слоёв</a></li>
      </ul>
    </li>
  </ul>
</nav></div>



            <div class="taxonomy taxonomy-terms-cloud taxo-categories">
      <h5 class="taxonomy-title">Categories</h5>
      <ul class="taxonomy-terms">
        <li><a class="taxonomy-term" href="https://debuntu.ru/categories/development/" data-taxonomy-term="development"><span class="taxonomy-label">Development</span><span class="taxonomy-count">1</span></a></li>
        </ul>
    </div>
  <div class="taxonomy taxonomy-terms-cloud taxo-tags">
      <h5 class="taxonomy-title">Tags</h5>
      <ul class="taxonomy-terms">
        <li><a class="taxonomy-term" href="https://debuntu.ru/tags/acl/" data-taxonomy-term="acl"><span class="taxonomy-label">ACL</span><span class="taxonomy-count">1</span></a></li>
        <li><a class="taxonomy-term" href="https://debuntu.ru/tags/almalinux-8.5/" data-taxonomy-term="almalinux-8.5"><span class="taxonomy-label">AlmaLinux 8.5</span><span class="taxonomy-count">4</span></a></li>
        <li><a class="taxonomy-term" href="https://debuntu.ru/tags/alpine-linux/" data-taxonomy-term="alpine-linux"><span class="taxonomy-label">Alpine Linux</span><span class="taxonomy-count">3</span></a></li>
        <li><a class="taxonomy-term" href="https://debuntu.ru/tags/altlinux/" data-taxonomy-term="altlinux"><span class="taxonomy-label">AltLinux</span><span class="taxonomy-count">2</span></a></li>
        <li><a class="taxonomy-term" href="https://debuntu.ru/tags/altlinux-10/" data-taxonomy-term="altlinux-10"><span class="taxonomy-label">AltLinux 10</span><span class="taxonomy-count">2</span></a></li>
        <li><a class="taxonomy-term" href="https://debuntu.ru/tags/altlinux-9/" data-taxonomy-term="altlinux-9"><span class="taxonomy-label">AltLinux 9</span><span class="taxonomy-count">1</span></a></li>
        <li><a class="taxonomy-term" href="https://debuntu.ru/tags/ansible/" data-taxonomy-term="ansible"><span class="taxonomy-label">Ansible</span><span class="taxonomy-count">1</span></a></li>
        <li><a class="taxonomy-term" href="https://debuntu.ru/tags/ansible-ad-hoc/" data-taxonomy-term="ansible-ad-hoc"><span class="taxonomy-label">Ansible Ad-Hoc</span><span class="taxonomy-count">1</span></a></li>
        <li><a class="taxonomy-term" href="https://debuntu.ru/tags/apache-airflow/" data-taxonomy-term="apache-airflow"><span class="taxonomy-label">Apache Airflow</span><span class="taxonomy-count">2</span></a></li>
        <li><a class="taxonomy-term" href="https://debuntu.ru/tags/apache-atlas/" data-taxonomy-term="apache-atlas"><span class="taxonomy-label">Apache Atlas</span><span class="taxonomy-count">17</span></a></li>
        <li><a class="taxonomy-term" href="https://debuntu.ru/tags/apache-hadoop/" data-taxonomy-term="apache-hadoop"><span class="taxonomy-label">Apache Hadoop</span><span class="taxonomy-count">30</span></a></li>
        <li><a class="taxonomy-term" href="https://debuntu.ru/tags/apache-hbase/" data-taxonomy-term="apache-hbase"><span class="taxonomy-label">Apache HBase</span><span class="taxonomy-count">3</span></a></li>
        <li><a class="taxonomy-term" href="https://debuntu.ru/tags/apache-hive/" data-taxonomy-term="apache-hive"><span class="taxonomy-label">Apache Hive</span><span class="taxonomy-count">6</span></a></li>
        <li><a class="taxonomy-term" href="https://debuntu.ru/tags/apache-kafka/" data-taxonomy-term="apache-kafka"><span class="taxonomy-label">Apache Kafka</span><span class="taxonomy-count">5</span></a></li>
        <li><a class="taxonomy-term" href="https://debuntu.ru/tags/apache-spark/" data-taxonomy-term="apache-spark"><span class="taxonomy-label">Apache Spark</span><span class="taxonomy-count">2</span></a></li>
        <li><a class="taxonomy-term" href="https://debuntu.ru/tags/apache-sqoop/" data-taxonomy-term="apache-sqoop"><span class="taxonomy-label">Apache Sqoop</span><span class="taxonomy-count">1</span></a></li>
        <li><a class="taxonomy-term" href="https://debuntu.ru/tags/apache-tomcat/" data-taxonomy-term="apache-tomcat"><span class="taxonomy-label">Apache Tomcat</span><span class="taxonomy-count">1</span></a></li>
        <li><a class="taxonomy-term" href="https://debuntu.ru/tags/apache-zookeeper/" data-taxonomy-term="apache-zookeeper"><span class="taxonomy-label">Apache Zookeeper</span><span class="taxonomy-count">1</span></a></li>
        <li><a class="taxonomy-term" href="https://debuntu.ru/tags/apc/" data-taxonomy-term="apc"><span class="taxonomy-label">APC</span><span class="taxonomy-count">1</span></a></li>
        <li><a class="taxonomy-term" href="https://debuntu.ru/tags/apparmor/" data-taxonomy-term="apparmor"><span class="taxonomy-label">AppArmor</span><span class="taxonomy-count">1</span></a></li>
        <li><a class="taxonomy-term" href="https://debuntu.ru/tags/approx/" data-taxonomy-term="approx"><span class="taxonomy-label">Approx</span><span class="taxonomy-count">1</span></a></li>
        <li><a class="taxonomy-term" href="https://debuntu.ru/tags/apt/" data-taxonomy-term="apt"><span class="taxonomy-label">APT</span><span class="taxonomy-count">2</span></a></li>
        <li><a class="taxonomy-term" href="https://debuntu.ru/tags/apt-cache/" data-taxonomy-term="apt-cache"><span class="taxonomy-label">Apt-Cache</span><span class="taxonomy-count">1</span></a></li>
        <li><a class="taxonomy-term" href="https://debuntu.ru/tags/apt-get/" data-taxonomy-term="apt-get"><span class="taxonomy-label">Apt-Get</span><span class="taxonomy-count">1</span></a></li>
        <li><a class="taxonomy-term" href="https://debuntu.ru/tags/aptitude/" data-taxonomy-term="aptitude"><span class="taxonomy-label">Aptitude</span><span class="taxonomy-count">1</span></a></li>
        <li><a class="taxonomy-term" href="https://debuntu.ru/tags/arenadata-hadoop/" data-taxonomy-term="arenadata-hadoop"><span class="taxonomy-label">ArenaData Hadoop</span><span class="taxonomy-count">5</span></a></li>
        <li><a class="taxonomy-term" href="https://debuntu.ru/tags/automation/" data-taxonomy-term="automation"><span class="taxonomy-label">Automation</span><span class="taxonomy-count">1</span></a></li>
        <li><a class="taxonomy-term" href="https://debuntu.ru/tags/backup-software/" data-taxonomy-term="backup-software"><span class="taxonomy-label">Backup SoftWare</span><span class="taxonomy-count">10</span></a></li>
        <li><a class="taxonomy-term" href="https://debuntu.ru/tags/bash/" data-taxonomy-term="bash"><span class="taxonomy-label">Bash</span><span class="taxonomy-count">2</span></a></li>
        <li><a class="taxonomy-term" href="https://debuntu.ru/tags/beeline/" data-taxonomy-term="beeline"><span class="taxonomy-label">Beeline</span><span class="taxonomy-count">1</span></a></li>
        <li><a class="taxonomy-term" href="https://debuntu.ru/tags/bigdata/" data-taxonomy-term="bigdata"><span class="taxonomy-label">BigData</span><span class="taxonomy-count">50</span></a></li>
        <li><a class="taxonomy-term" href="https://debuntu.ru/tags/borgbackup/" data-taxonomy-term="borgbackup"><span class="taxonomy-label">BorgBackup</span><span class="taxonomy-count">10</span></a></li>
        <li><a class="taxonomy-term" href="https://debuntu.ru/tags/btrfs/" data-taxonomy-term="btrfs"><span class="taxonomy-label">Btrfs</span><span class="taxonomy-count">3</span></a></li>
        <li><a class="taxonomy-term" href="https://debuntu.ru/tags/centos/" data-taxonomy-term="centos"><span class="taxonomy-label">CentOS</span><span class="taxonomy-count">30</span></a></li>
        <li><a class="taxonomy-term" href="https://debuntu.ru/tags/centos-7/" data-taxonomy-term="centos-7"><span class="taxonomy-label">CentOS 7</span><span class="taxonomy-count">27</span></a></li>
        <li><a class="taxonomy-term" href="https://debuntu.ru/tags/centos7/" data-taxonomy-term="centos7"><span class="taxonomy-label">CentOS7</span><span class="taxonomy-count">1</span></a></li>
        <li><a class="taxonomy-term" href="https://debuntu.ru/tags/chroot/" data-taxonomy-term="chroot"><span class="taxonomy-label">Chroot</span><span class="taxonomy-count">1</span></a></li>
        <li><a class="taxonomy-term" href="https://debuntu.ru/tags/ci/cd/" data-taxonomy-term="ci/cd"><span class="taxonomy-label">CI/CD</span><span class="taxonomy-count">1</span></a></li>
        <li><a class="taxonomy-term" href="https://debuntu.ru/tags/cloudera-cdh-6.3.2/" data-taxonomy-term="cloudera-cdh-6.3.2"><span class="taxonomy-label">Cloudera CDH 6.3.2</span><span class="taxonomy-count">36</span></a></li>
        <li><a class="taxonomy-term" href="https://debuntu.ru/tags/cloudera-hadoop/" data-taxonomy-term="cloudera-hadoop"><span class="taxonomy-label">Cloudera Hadoop</span><span class="taxonomy-count">2</span></a></li>
        <li><a class="taxonomy-term" href="https://debuntu.ru/tags/cloudera-inspect-network-performance/" data-taxonomy-term="cloudera-inspect-network-performance"><span class="taxonomy-label">Cloudera Inspect Network Performance</span><span class="taxonomy-count">1</span></a></li>
        <li><a class="taxonomy-term" href="https://debuntu.ru/tags/cmak/" data-taxonomy-term="cmak"><span class="taxonomy-label">CMAK</span><span class="taxonomy-count">1</span></a></li>
        <li><a class="taxonomy-term" href="https://debuntu.ru/tags/cms/" data-taxonomy-term="cms"><span class="taxonomy-label">CMS</span><span class="taxonomy-count">7</span></a></li>
        <li><a class="taxonomy-term" href="https://debuntu.ru/tags/cockpit/" data-taxonomy-term="cockpit"><span class="taxonomy-label">Cockpit</span><span class="taxonomy-count">1</span></a></li>
        <li><a class="taxonomy-term" href="https://debuntu.ru/tags/colorized-stdout/" data-taxonomy-term="colorized-stdout"><span class="taxonomy-label">Colorized Stdout</span><span class="taxonomy-count">1</span></a></li>
        <li><a class="taxonomy-term" href="https://debuntu.ru/tags/composer/" data-taxonomy-term="composer"><span class="taxonomy-label">Composer</span><span class="taxonomy-count">1</span></a></li>
        <li><a class="taxonomy-term" href="https://debuntu.ru/tags/console/" data-taxonomy-term="console"><span class="taxonomy-label">Console</span><span class="taxonomy-count">1</span></a></li>
        <li><a class="taxonomy-term" href="https://debuntu.ru/tags/cryptsetup/" data-taxonomy-term="cryptsetup"><span class="taxonomy-label">Cryptsetup</span><span class="taxonomy-count">1</span></a></li>
        <li><a class="taxonomy-term" href="https://debuntu.ru/tags/curl/" data-taxonomy-term="curl"><span class="taxonomy-label">Curl</span><span class="taxonomy-count">1</span></a></li>
        <li><a class="taxonomy-term" href="https://debuntu.ru/tags/db/" data-taxonomy-term="db"><span class="taxonomy-label">DB</span><span class="taxonomy-count">3</span></a></li>
        <li><a class="taxonomy-term" href="https://debuntu.ru/tags/dd-wrt/" data-taxonomy-term="dd-wrt"><span class="taxonomy-label">DD-WRT</span><span class="taxonomy-count">1</span></a></li>
        <li><a class="taxonomy-term" href="https://debuntu.ru/tags/debian-lenny/" data-taxonomy-term="debian-lenny"><span class="taxonomy-label">Debian Lenny</span><span class="taxonomy-count">1</span></a></li>
        <li><a class="taxonomy-term" href="https://debuntu.ru/tags/devops/" data-taxonomy-term="devops"><span class="taxonomy-label">DevOps</span><span class="taxonomy-count">1</span></a></li>
        <li><a class="taxonomy-term" href="https://debuntu.ru/tags/dm-setup/" data-taxonomy-term="dm-setup"><span class="taxonomy-label">Dm-Setup</span><span class="taxonomy-count">1</span></a></li>
        <li><a class="taxonomy-term" href="https://debuntu.ru/tags/dns/" data-taxonomy-term="dns"><span class="taxonomy-label">DNS</span><span class="taxonomy-count">2</span></a></li>
        <li><a class="taxonomy-term" href="https://debuntu.ru/tags/docker/" data-taxonomy-term="docker"><span class="taxonomy-label">Docker</span><span class="taxonomy-count">2</span></a></li>
        <li><a class="taxonomy-term" href="https://debuntu.ru/tags/drupal/" data-taxonomy-term="drupal"><span class="taxonomy-label">Drupal</span><span class="taxonomy-count">2</span></a></li>
        <li><a class="taxonomy-term" href="https://debuntu.ru/tags/easy-rsa/" data-taxonomy-term="easy-rsa"><span class="taxonomy-label">Easy-RSA</span><span class="taxonomy-count">1</span></a></li>
        <li><a class="taxonomy-term" href="https://debuntu.ru/tags/eclipse/" data-taxonomy-term="eclipse"><span class="taxonomy-label">Eclipse</span><span class="taxonomy-count">1</span></a></li>
        <li><a class="taxonomy-term" href="https://debuntu.ru/tags/egroupware/" data-taxonomy-term="egroupware"><span class="taxonomy-label">EGroupWare</span><span class="taxonomy-count">1</span></a></li>
        <li><a class="taxonomy-term" href="https://debuntu.ru/tags/encfs/" data-taxonomy-term="encfs"><span class="taxonomy-label">EncFS</span><span class="taxonomy-count">1</span></a></li>
        <li><a class="taxonomy-term" href="https://debuntu.ru/tags/filesystem/" data-taxonomy-term="filesystem"><span class="taxonomy-label">FileSystem</span><span class="taxonomy-count">6</span></a></li>
        <li><a class="taxonomy-term" href="https://debuntu.ru/tags/freebsd/" data-taxonomy-term="freebsd"><span class="taxonomy-label">FreeBSD</span><span class="taxonomy-count">2</span></a></li>
        <li><a class="taxonomy-term" href="https://debuntu.ru/tags/freeipa/" data-taxonomy-term="freeipa"><span class="taxonomy-label">FreeIPA</span><span class="taxonomy-count">19</span></a></li>
        <li><a class="taxonomy-term" href="https://debuntu.ru/tags/freeipa-4.9.6/" data-taxonomy-term="freeipa-4.9.6"><span class="taxonomy-label">FreeIPA 4.9.6</span><span class="taxonomy-count">4</span></a></li>
        <li><a class="taxonomy-term" href="https://debuntu.ru/tags/gnu-screen/" data-taxonomy-term="gnu-screen"><span class="taxonomy-label">GNU Screen</span><span class="taxonomy-count">1</span></a></li>
        <li><a class="taxonomy-term" href="https://debuntu.ru/tags/groupware/" data-taxonomy-term="groupware"><span class="taxonomy-label">Groupware</span><span class="taxonomy-count">1</span></a></li>
        <li><a class="taxonomy-term" href="https://debuntu.ru/tags/hbase/" data-taxonomy-term="hbase"><span class="taxonomy-label">HBase</span><span class="taxonomy-count">1</span></a></li>
        <li><a class="taxonomy-term" href="https://debuntu.ru/tags/hdfs/" data-taxonomy-term="hdfs"><span class="taxonomy-label">HDFS</span><span class="taxonomy-count">3</span></a></li>
        <li><a class="taxonomy-term" href="https://debuntu.ru/tags/history/" data-taxonomy-term="history"><span class="taxonomy-label">History</span><span class="taxonomy-count">2</span></a></li>
        <li><a class="taxonomy-term" href="https://debuntu.ru/tags/hive/" data-taxonomy-term="hive"><span class="taxonomy-label">Hive</span><span class="taxonomy-count">1</span></a></li>
        <li><a class="taxonomy-term" href="https://debuntu.ru/tags/hue/" data-taxonomy-term="hue"><span class="taxonomy-label">Hue</span><span class="taxonomy-count">3</span></a></li>
        <li><a class="taxonomy-term" href="https://debuntu.ru/tags/ide/" data-taxonomy-term="ide"><span class="taxonomy-label">IDE</span><span class="taxonomy-count">2</span></a></li>
        <li><a class="taxonomy-term" href="https://debuntu.ru/tags/infosec/" data-taxonomy-term="infosec"><span class="taxonomy-label">InfoSec</span><span class="taxonomy-count">1</span></a></li>
        <li><a class="taxonomy-term" href="https://debuntu.ru/tags/ipsec/" data-taxonomy-term="ipsec"><span class="taxonomy-label">IPsec</span><span class="taxonomy-count">1</span></a></li>
        <li><a class="taxonomy-term" href="https://debuntu.ru/tags/jenkins/" data-taxonomy-term="jenkins"><span class="taxonomy-label">Jenkins</span><span class="taxonomy-count">1</span></a></li>
        <li><a class="taxonomy-term" href="https://debuntu.ru/tags/jupiterhub/" data-taxonomy-term="jupiterhub"><span class="taxonomy-label">JupiterHub</span><span class="taxonomy-count">2</span></a></li>
        <li><a class="taxonomy-term" href="https://debuntu.ru/tags/kafdrop/" data-taxonomy-term="kafdrop"><span class="taxonomy-label">Kafdrop</span><span class="taxonomy-count">2</span></a></li>
        <li><a class="taxonomy-term" href="https://debuntu.ru/tags/kafka/" data-taxonomy-term="kafka"><span class="taxonomy-label">Kafka</span><span class="taxonomy-count">1</span></a></li>
        <li><a class="taxonomy-term" href="https://debuntu.ru/tags/kafka-mirror-maker/" data-taxonomy-term="kafka-mirror-maker"><span class="taxonomy-label">Kafka-Mirror-Maker</span><span class="taxonomy-count">1</span></a></li>
        <li><a class="taxonomy-term" href="https://debuntu.ru/tags/kerberos/" data-taxonomy-term="kerberos"><span class="taxonomy-label">Kerberos</span><span class="taxonomy-count">2</span></a></li>
        <li><a class="taxonomy-term" href="https://debuntu.ru/tags/keytab/" data-taxonomy-term="keytab"><span class="taxonomy-label">Keytab</span><span class="taxonomy-count">2</span></a></li>
        <li><a class="taxonomy-term" href="https://debuntu.ru/tags/kvm/" data-taxonomy-term="kvm"><span class="taxonomy-label">KVM</span><span class="taxonomy-count">1</span></a></li>
        <li><a class="taxonomy-term" href="https://debuntu.ru/tags/l2tp/" data-taxonomy-term="l2tp"><span class="taxonomy-label">L2TP</span><span class="taxonomy-count">1</span></a></li>
        <li><a class="taxonomy-term" href="https://debuntu.ru/tags/ldap/" data-taxonomy-term="ldap"><span class="taxonomy-label">LDAP</span><span class="taxonomy-count">4</span></a></li>
        <li><a class="taxonomy-term" href="https://debuntu.ru/tags/less/" data-taxonomy-term="less"><span class="taxonomy-label">Less</span><span class="taxonomy-count">1</span></a></li>
        <li><a class="taxonomy-term" href="https://debuntu.ru/tags/libreoffice/" data-taxonomy-term="libreoffice"><span class="taxonomy-label">LibreOffice</span><span class="taxonomy-count">1</span></a></li>
        <li><a class="taxonomy-term" href="https://debuntu.ru/tags/linux-kernel/" data-taxonomy-term="linux-kernel"><span class="taxonomy-label">Linux Kernel</span><span class="taxonomy-count">2</span></a></li>
        <li><a class="taxonomy-term" href="https://debuntu.ru/tags/linux-process/" data-taxonomy-term="linux-process"><span class="taxonomy-label">Linux Process</span><span class="taxonomy-count">1</span></a></li>
        <li><a class="taxonomy-term" href="https://debuntu.ru/tags/logitech/" data-taxonomy-term="logitech"><span class="taxonomy-label">Logitech</span><span class="taxonomy-count">1</span></a></li>
        <li><a class="taxonomy-term" href="https://debuntu.ru/tags/luks/" data-taxonomy-term="luks"><span class="taxonomy-label">LUKS</span><span class="taxonomy-count">1</span></a></li>
        <li><a class="taxonomy-term" href="https://debuntu.ru/tags/lvm/" data-taxonomy-term="lvm"><span class="taxonomy-label">LVM</span><span class="taxonomy-count">6</span></a></li>
        <li><a class="taxonomy-term" href="https://debuntu.ru/tags/lvm2/" data-taxonomy-term="lvm2"><span class="taxonomy-label">LVM2</span><span class="taxonomy-count">1</span></a></li>
        <li><a class="taxonomy-term" href="https://debuntu.ru/tags/lvresize/" data-taxonomy-term="lvresize"><span class="taxonomy-label">Lvresize</span><span class="taxonomy-count">1</span></a></li>
        <li><a class="taxonomy-term" href="https://debuntu.ru/tags/lxde/" data-taxonomy-term="lxde"><span class="taxonomy-label">LXDE</span><span class="taxonomy-count">1</span></a></li>
        <li><a class="taxonomy-term" href="https://debuntu.ru/tags/make/" data-taxonomy-term="make"><span class="taxonomy-label">Make</span><span class="taxonomy-count">1</span></a></li>
        <li><a class="taxonomy-term" href="https://debuntu.ru/tags/meshnet/" data-taxonomy-term="meshnet"><span class="taxonomy-label">Meshnet</span><span class="taxonomy-count">1</span></a></li>
        <li><a class="taxonomy-term" href="https://debuntu.ru/tags/mikrotik/" data-taxonomy-term="mikrotik"><span class="taxonomy-label">Mikrotik</span><span class="taxonomy-count">1</span></a></li>
        <li><a class="taxonomy-term" href="https://debuntu.ru/tags/modx/" data-taxonomy-term="modx"><span class="taxonomy-label">MODx</span><span class="taxonomy-count">1</span></a></li>
        <li><a class="taxonomy-term" href="https://debuntu.ru/tags/mokey/" data-taxonomy-term="mokey"><span class="taxonomy-label">Mokey</span><span class="taxonomy-count">1</span></a></li>
        <li><a class="taxonomy-term" href="https://debuntu.ru/tags/monitoring/" data-taxonomy-term="monitoring"><span class="taxonomy-label">Monitoring</span><span class="taxonomy-count">2</span></a></li>
        <li><a class="taxonomy-term" href="https://debuntu.ru/tags/monitorix/" data-taxonomy-term="monitorix"><span class="taxonomy-label">Monitorix</span><span class="taxonomy-count">3</span></a></li>
        <li><a class="taxonomy-term" href="https://debuntu.ru/tags/multic/" data-taxonomy-term="multic"><span class="taxonomy-label">Multic</span><span class="taxonomy-count">1</span></a></li>
        <li><a class="taxonomy-term" href="https://debuntu.ru/tags/nat/" data-taxonomy-term="nat"><span class="taxonomy-label">NAT</span><span class="taxonomy-count">1</span></a></li>
        <li><a class="taxonomy-term" href="https://debuntu.ru/tags/networking/" data-taxonomy-term="networking"><span class="taxonomy-label">Networking</span><span class="taxonomy-count">1</span></a></li>
        <li><a class="taxonomy-term" href="https://debuntu.ru/tags/nextcloud/" data-taxonomy-term="nextcloud"><span class="taxonomy-label">NextCloud</span><span class="taxonomy-count">1</span></a></li>
        <li><a class="taxonomy-term" href="https://debuntu.ru/tags/nexus/" data-taxonomy-term="nexus"><span class="taxonomy-label">Nexus</span><span class="taxonomy-count">1</span></a></li>
        <li><a class="taxonomy-term" href="https://debuntu.ru/tags/nexus-repository-manager/" data-taxonomy-term="nexus-repository-manager"><span class="taxonomy-label">Nexus Repository Manager</span><span class="taxonomy-count">6</span></a></li>
        <li><a class="taxonomy-term" href="https://debuntu.ru/tags/nginx/" data-taxonomy-term="nginx"><span class="taxonomy-label">Nginx</span><span class="taxonomy-count">1</span></a></li>
        <li><a class="taxonomy-term" href="https://debuntu.ru/tags/nokia-e52/" data-taxonomy-term="nokia-e52"><span class="taxonomy-label">Nokia E52</span><span class="taxonomy-count">1</span></a></li>
        <li><a class="taxonomy-term" href="https://debuntu.ru/tags/nut/" data-taxonomy-term="nut"><span class="taxonomy-label">NUT</span><span class="taxonomy-count">1</span></a></li>
        <li><a class="taxonomy-term" href="https://debuntu.ru/tags/nxrm/" data-taxonomy-term="nxrm"><span class="taxonomy-label">NXRM</span><span class="taxonomy-count">1</span></a></li>
        <li><a class="taxonomy-term" href="https://debuntu.ru/tags/oauth2/" data-taxonomy-term="oauth2"><span class="taxonomy-label">OAuth2</span><span class="taxonomy-count">1</span></a></li>
        <li><a class="taxonomy-term" href="https://debuntu.ru/tags/obfuscation/" data-taxonomy-term="obfuscation"><span class="taxonomy-label">Obfuscation</span><span class="taxonomy-count">1</span></a></li>
        <li><a class="taxonomy-term" href="https://debuntu.ru/tags/openssh/" data-taxonomy-term="openssh"><span class="taxonomy-label">OpenSSH</span><span class="taxonomy-count">1</span></a></li>
        <li><a class="taxonomy-term" href="https://debuntu.ru/tags/openvpn/" data-taxonomy-term="openvpn"><span class="taxonomy-label">OpenVPN</span><span class="taxonomy-count">5</span></a></li>
        <li><a class="taxonomy-term" href="https://debuntu.ru/tags/openwrt/" data-taxonomy-term="openwrt"><span class="taxonomy-label">OpenWRT</span><span class="taxonomy-count">1</span></a></li>
        <li><a class="taxonomy-term" href="https://debuntu.ru/tags/path-mtu-discovery/" data-taxonomy-term="path-mtu-discovery"><span class="taxonomy-label">Path MTU Discovery</span><span class="taxonomy-count">1</span></a></li>
        <li><a class="taxonomy-term" href="https://debuntu.ru/tags/pip/" data-taxonomy-term="pip"><span class="taxonomy-label">Pip</span><span class="taxonomy-count">1</span></a></li>
        <li><a class="taxonomy-term" href="https://debuntu.ru/tags/pkgng/" data-taxonomy-term="pkgng"><span class="taxonomy-label">Pkgng</span><span class="taxonomy-count">2</span></a></li>
        <li><a class="taxonomy-term" href="https://debuntu.ru/tags/pki/" data-taxonomy-term="pki"><span class="taxonomy-label">PKI</span><span class="taxonomy-count">3</span></a></li>
        <li><a class="taxonomy-term" href="https://debuntu.ru/tags/plone/" data-taxonomy-term="plone"><span class="taxonomy-label">Plone</span><span class="taxonomy-count">5</span></a></li>
        <li><a class="taxonomy-term" href="https://debuntu.ru/tags/portsnap/" data-taxonomy-term="portsnap"><span class="taxonomy-label">Portsnap</span><span class="taxonomy-count">1</span></a></li>
        <li><a class="taxonomy-term" href="https://debuntu.ru/tags/postgresql/" data-taxonomy-term="postgresql"><span class="taxonomy-label">PostgreSQL</span><span class="taxonomy-count">5</span></a></li>
        <li><a class="taxonomy-term" href="https://debuntu.ru/tags/python/" data-taxonomy-term="python"><span class="taxonomy-label">Python</span><span class="taxonomy-count">2</span></a></li>
        <li><a class="taxonomy-term" href="https://debuntu.ru/tags/qemu/kvm/" data-taxonomy-term="qemu/kvm"><span class="taxonomy-label">QEMU/KVM</span><span class="taxonomy-count">2</span></a></li>
        <li><a class="taxonomy-term" href="https://debuntu.ru/tags/qemu/kvm/" data-taxonomy-term="qemu/kvm"><span class="taxonomy-label">QEMU/KVM</span><span class="taxonomy-count">1</span></a></li>
        <li><a class="taxonomy-term" href="https://debuntu.ru/tags/raid/" data-taxonomy-term="raid"><span class="taxonomy-label">RAID</span><span class="taxonomy-count">1</span></a></li>
        <li><a class="taxonomy-term" href="https://debuntu.ru/tags/redos/" data-taxonomy-term="redos"><span class="taxonomy-label">RedOS</span><span class="taxonomy-count">3</span></a></li>
        <li><a class="taxonomy-term" href="https://debuntu.ru/tags/redos-7.2/" data-taxonomy-term="redos-7.2"><span class="taxonomy-label">RedOS 7.2</span><span class="taxonomy-count">3</span></a></li>
        <li><a class="taxonomy-term" href="https://debuntu.ru/tags/resolv.conf/" data-taxonomy-term="resolv.conf"><span class="taxonomy-label">Resolv.conf</span><span class="taxonomy-count">1</span></a></li>
        <li><a class="taxonomy-term" href="https://debuntu.ru/tags/root/" data-taxonomy-term="root"><span class="taxonomy-label">Root</span><span class="taxonomy-count">1</span></a></li>
        <li><a class="taxonomy-term" href="https://debuntu.ru/tags/rsync/" data-taxonomy-term="rsync"><span class="taxonomy-label">Rsync</span><span class="taxonomy-count">1</span></a></li>
        <li><a class="taxonomy-term" href="https://debuntu.ru/tags/sentry/" data-taxonomy-term="sentry"><span class="taxonomy-label">Sentry</span><span class="taxonomy-count">1</span></a></li>
        <li><a class="taxonomy-term" href="https://debuntu.ru/tags/solr/" data-taxonomy-term="solr"><span class="taxonomy-label">Solr</span><span class="taxonomy-count">1</span></a></li>
        <li><a class="taxonomy-term" href="https://debuntu.ru/tags/spark/" data-taxonomy-term="spark"><span class="taxonomy-label">Spark</span><span class="taxonomy-count">1</span></a></li>
        <li><a class="taxonomy-term" href="https://debuntu.ru/tags/squid/" data-taxonomy-term="squid"><span class="taxonomy-label">Squid</span><span class="taxonomy-count">1</span></a></li>
        <li><a class="taxonomy-term" href="https://debuntu.ru/tags/squidguard/" data-taxonomy-term="squidguard"><span class="taxonomy-label">SquidGuard</span><span class="taxonomy-count">1</span></a></li>
        <li><a class="taxonomy-term" href="https://debuntu.ru/tags/ssh/" data-taxonomy-term="ssh"><span class="taxonomy-label">Ssh</span><span class="taxonomy-count">5</span></a></li>
        <li><a class="taxonomy-term" href="https://debuntu.ru/tags/strongswan/" data-taxonomy-term="strongswan"><span class="taxonomy-label">StrongSwan</span><span class="taxonomy-count">1</span></a></li>
        <li><a class="taxonomy-term" href="https://debuntu.ru/tags/stunnel/" data-taxonomy-term="stunnel"><span class="taxonomy-label">Stunnel</span><span class="taxonomy-count">2</span></a></li>
        <li><a class="taxonomy-term" href="https://debuntu.ru/tags/sudo/" data-taxonomy-term="sudo"><span class="taxonomy-label">Sudo</span><span class="taxonomy-count">1</span></a></li>
        <li><a class="taxonomy-term" href="https://debuntu.ru/tags/swap/" data-taxonomy-term="swap"><span class="taxonomy-label">Swap</span><span class="taxonomy-count">2</span></a></li>
        <li><a class="taxonomy-term" href="https://debuntu.ru/tags/syslinux/" data-taxonomy-term="syslinux"><span class="taxonomy-label">Syslinux</span><span class="taxonomy-count">1</span></a></li>
        <li><a class="taxonomy-term" href="https://debuntu.ru/tags/terminal/" data-taxonomy-term="terminal"><span class="taxonomy-label">Terminal</span><span class="taxonomy-count">1</span></a></li>
        <li><a class="taxonomy-term" href="https://debuntu.ru/tags/traditional-unix-permission/" data-taxonomy-term="traditional-unix-permission"><span class="taxonomy-label">Traditional Unix Permission</span><span class="taxonomy-count">1</span></a></li>
        <li><a class="taxonomy-term" href="https://debuntu.ru/tags/translation/" data-taxonomy-term="translation"><span class="taxonomy-label">Translation</span><span class="taxonomy-count">10</span></a></li>
        <li><a class="taxonomy-term" href="https://debuntu.ru/tags/truecrypt/" data-taxonomy-term="truecrypt"><span class="taxonomy-label">TrueCrypt</span><span class="taxonomy-count">1</span></a></li>
        <li><a class="taxonomy-term" href="https://debuntu.ru/tags/ubuntu/" data-taxonomy-term="ubuntu"><span class="taxonomy-label">Ubuntu</span><span class="taxonomy-count">4</span></a></li>
        <li><a class="taxonomy-term" href="https://debuntu.ru/tags/unix/" data-taxonomy-term="unix"><span class="taxonomy-label">Unix</span><span class="taxonomy-count">1</span></a></li>
        <li><a class="taxonomy-term" href="https://debuntu.ru/tags/venv/" data-taxonomy-term="venv"><span class="taxonomy-label">Venv</span><span class="taxonomy-count">1</span></a></li>
        <li><a class="taxonomy-term" href="https://debuntu.ru/tags/vertica/" data-taxonomy-term="vertica"><span class="taxonomy-label">Vertica</span><span class="taxonomy-count">1</span></a></li>
        <li><a class="taxonomy-term" href="https://debuntu.ru/tags/vfs/" data-taxonomy-term="vfs"><span class="taxonomy-label">VFS</span><span class="taxonomy-count">2</span></a></li>
        <li><a class="taxonomy-term" href="https://debuntu.ru/tags/virtualization/" data-taxonomy-term="virtualization"><span class="taxonomy-label">Virtualization</span><span class="taxonomy-count">2</span></a></li>
        <li><a class="taxonomy-term" href="https://debuntu.ru/tags/visual-studio-code/" data-taxonomy-term="visual-studio-code"><span class="taxonomy-label">Visual Studio Code</span><span class="taxonomy-count">1</span></a></li>
        <li><a class="taxonomy-term" href="https://debuntu.ru/tags/vmware-server/" data-taxonomy-term="vmware-server"><span class="taxonomy-label">VMWare Server</span><span class="taxonomy-count">1</span></a></li>
        <li><a class="taxonomy-term" href="https://debuntu.ru/tags/void-linux/" data-taxonomy-term="void-linux"><span class="taxonomy-label">Void Linux</span><span class="taxonomy-count">4</span></a></li>
        <li><a class="taxonomy-term" href="https://debuntu.ru/tags/voip/" data-taxonomy-term="voip"><span class="taxonomy-label">VoIP</span><span class="taxonomy-count">1</span></a></li>
        <li><a class="taxonomy-term" href="https://debuntu.ru/tags/vpn/" data-taxonomy-term="vpn"><span class="taxonomy-label">VPN</span><span class="taxonomy-count">5</span></a></li>
        <li><a class="taxonomy-term" href="https://debuntu.ru/tags/windows-xp/" data-taxonomy-term="windows-xp"><span class="taxonomy-label">Windows XP</span><span class="taxonomy-count">1</span></a></li>
        <li><a class="taxonomy-term" href="https://debuntu.ru/tags/xfs/" data-taxonomy-term="xfs"><span class="taxonomy-label">XFS</span><span class="taxonomy-count">2</span></a></li>
        <li><a class="taxonomy-term" href="https://debuntu.ru/tags/yarn/" data-taxonomy-term="yarn"><span class="taxonomy-label">YARN</span><span class="taxonomy-count">1</span></a></li>
        <li><a class="taxonomy-term" href="https://debuntu.ru/tags/zookeper/" data-taxonomy-term="zookeper"><span class="taxonomy-label">Zookeper</span><span class="taxonomy-count">1</span></a></li>
        </ul>
    </div>
  

          </aside>
          <main class="col-12 col-md-9 col-xl-8 ps-md-5" role="main">
            
  

            <nav aria-label="breadcrumb" class="td-breadcrumbs">
  <ol class="breadcrumb">
  <li class="breadcrumb-item">
    <a href="/a/">Статьи</a></li>
  <li class="breadcrumb-item active" aria-current="page">
    Описание файловой системы OverlayFS</li>
  </ol>
</nav>
            
<div class="td-content">
	<h1>Описание файловой системы OverlayFS</h1>
	<div class="lead">Мой неполный перевод статьи <a href="https://www.kernel.org/doc/Documentation/filesystems/overlayfs.txt">Overlay Filesystem</a> из <a href="https://www.kernel.org">https://www.kernel.org</a></div>
	<header class="article-meta">
		<div class="taxonomy taxonomy-terms-article taxo-tags">
  <h5 class="taxonomy-title">Tags:</h5>
  <ul class="taxonomy-terms">
    <li><a class="taxonomy-term" href="https://debuntu.ru/tags/vfs/" data-taxonomy-term="vfs"><span class="taxonomy-label">VFS</span></a></li>
    <li><a class="taxonomy-term" href="https://debuntu.ru/tags/filesystem/" data-taxonomy-term="filesystem"><span class="taxonomy-label">FileSystem</span></a></li>
    <li><a class="taxonomy-term" href="https://debuntu.ru/tags/translation/" data-taxonomy-term="translation"><span class="taxonomy-label">Translation</span></a></li>
    </ul>
</div>

</header>
	<p>2020-02-01</p>
<blockquote>
<p>Не закончен, так как не хватает знаний. По мере изучения, постараюсь дополнить.</p>
</blockquote>
<blockquote>
<p>Данная файловая системы используется, например, в Docker. Часто её можно наблюдать на роутерах или других подобных устройствах, где оперативная запись информации ведётся во временную наложенную ФС, доступную до момента выключения устройства.</p>
</blockquote>
<blockquote>
<p>С помощью OverlayFS я объединяю домашние фото и видео каталоги для удобного просмотра. Так как архивы исходных фотографий доступны только для чтения, наложением рабочей папки, для сохранения временных или промежуточных файлов обработки, я добиваюсь удобства в обработке фоток.</p>
</blockquote>
<blockquote>
<p>Каталог = Директория = Папка</p>
</blockquote>
<blockquote>
<p>Перед пониманием темы Overlay Filesystem, мне необходимо провентилировать <a href="/a/opisanie-vfs-virtualnoi-failovoi-sistemy-linux">Linux Virtual File System</a>.</p>
</blockquote>
<h2 id="overlay-filesystem">Overlay Filesystem</h2>
<p>Этот документ описывает прототип нового подхода к обеспечению функциональности <strong>overlay filesystem</strong> (<em>наложенная файловая система</em>) в Линукс (некоторые предпочитают называть <strong>union-filesystems</strong> <em>объединённая файловая система</em>). <strong>Overlay filesystem</strong> пытается показать файловую систему так, как результат наложения одной ФС поверх другой ФС.</p>
<h3 id="overlay-объекты">Overlay объекты</h3>
<p>Метод наложения файловой системы является смешанным, так как объекты, которые видны в этой ФС не всегда ей принадлежат. Во многих случаях, доступ к объекту в объединении будет неразличимым от доступа к соответствующему объекту из обычной файловой системы. Это наиболее очевидно из поля &lsquo;st_dev&rsquo; возвращаемого системным вызовом <code>stat</code> (<code>man 2 stat</code>).</p>
<blockquote>
<p>Почитав stat(2), я выяснил, что поле &lsquo;st_dev&rsquo; описывает устройство на котором находится файл. &lsquo;st_ino&rsquo; — номер inode.</p>
</blockquote>
<p>В то время как директории будут сообщать &lsquo;st_dev&rsquo; из <em>наложенной</em> файловой системы, объекты, не являющиеся каталогами, могут сообщать &lsquo;st_dev&rsquo; из <em>нижней</em> или <em>верхней</em> файловой системы, которая предоставляет объект. Аналогично &lsquo;st_ino&rsquo; будет уникальным только в сочетании с &lsquo;st_dev&rsquo;, и оба они могут изменяться в течение всего времени жизни объекта не-каталога. Многие приложения и инструменты игнорируют эти значения.</p>
<p>В особом случае, когда все наложенные слои принадлежат одной подлежащей файловой системе, то все объекты будут сообщать &lsquo;st_dev&rsquo; из наложенной файловой системы, а &lsquo;st_ino&rsquo; из подлежащей файловой системы. Это делает монтирование наложения более совместимым со сканерами файловой системы, и оверлей-объекты будут отличаться от соответствующих объектов в оригинальной файловой системе.</p>
<p>On 64bit systems, even if all overlay layers are not on the same underlying filesystem, the same compliant behavior could be achieved with the &ldquo;xino&rdquo; feature. The &ldquo;xino&rdquo; feature composes a unique object identifier from the real object st_ino and an underlying fsid index. If all underlying filesystems support NFS file handles and export file handles with 32bit inode number encoding (e.g. ext4), overlay filesystem will use the high inode number bits for fsid.  Even when the underlying filesystem uses 64bit inode numbers, users can still enable the &ldquo;xino&rdquo; feature with the &ldquo;-o xino=on&rdquo; overlay mount option.  That is useful for the case of underlying filesystems like xfs and tmpfs, which use 64bit inode numbers, but are very unlikely to use the high inode number bit.</p>
<h3 id="верхний-и-нижний-слои">Верхний и нижний слои</h3>
<p>Наложенная файловая система комбинируется из двух ФС - <em>верхней</em> и <em>нижней</em>. Когда имя объекта существует в обеих ФС, тогда объект из <em>верхней</em> ФС виден, а объект из <em>нижней</em> ФС скрыт. В случае с совпадением имён каталогов, их содержимое будет объединено.</p>
<p>Было бы правильней употреблять термин верхнее и нижнее <em>дерево каталогов</em> вместо термина <em>файловая система</em>, поскольку вполне возможно, что оба <em>дерева каталогов</em> могут находиться в одной и той же файловой системе, и здесь не требуется указывать корень файловой системы для верхней или нижней файловой системы.</p>
<p>Нижняя файловая система может быть любой файловой системой, поддерживаемой Linux, и для неё не требуется прав на запись. Нижняя файловая система может быть даже другим оверлеем. Верхняя файловая система обычно доступна для записи, и в таком случае она должна поддерживать создание расширенных атрибутов &ldquo;trusted.*&rdquo;, и также должна предоставлять допустимый &rsquo;d_type&rsquo; в &lsquo;readdir&rsquo; ответах, так что NFS не подходит.</p>
<blockquote>
<p>readdir — чтение директории
описание поля &ldquo;d_type&rdquo;&hellip;</p>
</blockquote>
<!-- raw HTML omitted -->
<p>When a suitable feature test macro is defined (_DEFAULT_SOURCE on glibc versions since 2.19, or _BSD_SOURCE on glibc versions 2.19 and earlier), glibc defines the following macro constants for the value returned in d_type:
DT_BLK      This is a block device.
DT_CHR      This is a character device.
DT_DIR      This is a directory.
DT_FIFO     This is a named pipe (FIFO).
DT_LNK      This is a symbolic link.
DT_REG      This is a regular file.
DT_SOCK     This is a UNIX domain socket.
DT_UNKNOWN  The file type could not be determined.</p>
<p>На данный момент только некоторые файловые системы (среди них, такие как: Btrfs, ext2, ext3, and ext4) умеют возвращать правильное значение типа файла в поде &ldquo;d_type&rdquo;. Все приложения обязаны должным образом обрабатывать возвращаемое значение DT_UNKNOWN.</p>
<!-- raw HTML omitted -->
<p>Только в варианте, когда наложенная ФС имеет атрибут &ldquo;только для чтения&rdquo; и составлена из двух &ldquo;только для чтения&rdquo; файловых систем, могут использоваться любые типы ФС.</p>
<h3 id="каталоги">Каталоги</h3>
<p>В оверлее, в основном, участвуют каталоги. Если <em>имя</em> объекта ссылается не на каталог, и объект проявляется как в верхней, так и в нижней файловых системах, то нижний объект скрыт и <em>имя</em> относится только к верхнему объекту.</p>
<p>Если верхний и нижний объекты являются каталогами, то формируется объединенный каталог.</p>
<p>В момент монтирования две директории, указанные в опциях как &ldquo;upperdir&rdquo; и &ldquo;lowerdir&rdquo;, соединяются в одну объединённую директорию:</p>
<pre tabindex="0"><code># mount -t overlay overlay -olowerdir=/lower,upperdir=/upper,workdir=/work /merged
</code></pre><p>Опция &ldquo;workdir&rdquo; должна указывать на пустой каталог в той же файловой системе, где находится &ldquo;upperdir&rdquo;.</p>
<blockquote>
<p><em>dentry</em> — объект VFS, содержащий информацию о директориях ФС и существующий только в памяти файловой системы и не хранится на диске. Если я правильно понял, то предназначен для уменьшения обращений к ФС при перечитывании содержимого каталогов.</p>
</blockquote>
<p>Тогда всякий раз, когда поиск запрашивается в такой объединенной директории, просмотр выполняется в каждой фактической директории и объединенный результат кэшируется в <em>dentry</em>, принадлежащем наложенной файловой системе. Если оба актуальных поиска находят каталоги, оба сохраняются и создается объединенный каталог, в противном случае сохраняется только один: верхний, если он существует, иначе нижний.</p>
<p>Объединяются только списки имён из директорий. Другое содержимое, такое как метаданные и расширенные атрибуты, отображается только для директорий из верхней ФС. Эти атрибуты для директории из нижней ФС скрыты.</p>
<h3 id="выбеленные-и-непрозрачные-каталоги">&ldquo;Выбеленные&rdquo; и &ldquo;непрозрачные&rdquo; каталоги</h3>
<blockquote>
<p>Не уверен, что подобрал правильный перевод для &ldquo;whiteouts and opaque directories&rdquo;.</p>
</blockquote>
<p>Чтобы выполнять <code>rm</code> и <code>rmdir</code> без изменения нижней файловой системы, наложенная файловая система должна записать в верхнюю файловую систему информацию о том, что файлы были удалены. Это делается с помощью &ldquo;выбеленных&rdquo; и &ldquo;непрозрачных&rdquo; каталогов (объекты не-каталоги всегда непрозрачны).</p>
<p>&ldquo;Выбеленная&rdquo; директория создаётся как символьное устройство с номером устройства 0/0. Когда в верхнем слое объединенного каталога обнаруживается &ldquo;выбеленная&rdquo; директория, любое совпадающее имя на нижнем уровне игнорируется, и сама &ldquo;выбеленная&rdquo; директория также скрывается.</p>
<p>Каталог объявляется &ldquo;непрозрачным&rdquo; установкой расширенного атрибута &ldquo;trust.overlay.opaque&rdquo; в значение &ldquo;y&rdquo;. Если верхний слой содержит &ldquo;непрозрачный&rdquo; каталог с именем совпадающим с именем каталога из нижнего слоя, тогда соответствующий каталог в нижнем слое игнорируется.</p>
<h3 id="системный-запрос-readdir-чтение-каталога">Системный запрос readdir (Чтение каталога)</h3>
<p>Когда <code>readdir</code> запрашивается в объединенном каталоге, то каждый верхний и нижний каталог читается, а списки имён объединяются очевидным образом (сначала читается верхний, затем нижний, уже существующие имена не добавляются повторно). Этот объединенный список имён кэшируется в &lsquo;struct file&rsquo; и таким остаётся так долго, пока файл остаётся открытым. Если директория открыта и одновременно читается двумя процессами, то каждый из них будет иметь отдельный кэш. A <code>seekdir</code> to the start of the directory (offset 0) followed by a <code>readdir</code> will cause the cache to be discarded and rebuilt.</p>
<p>Это означает, что изменения в объединённой директории не проявятся пока каталог читается. Вряд ли это будет замечено каким-либо программами.</p>
<p>seek offsets are assigned sequentially when the directories are read.
Thus if</p>
<ul>
<li>read part of a directory</li>
<li>remember an offset, and close the directory</li>
<li>re-open the directory some time later</li>
<li>seek to the remembered offset</li>
</ul>
<p>there may be little correlation between the old and new locations in the list of filenames, particularly if anything has changed in the directory.</p>
<p>Readdir on directories that are not merged is simply handled by the underlying directory (upper or lower).</p>
<h3 id="переименование-каталога">Переименование каталога</h3>
<p>Когда переименовывается каталог, который является нижним или объединённым (то есть этот каталог не был создан на верхнем слое до начала операции), overlayfs может обработать его двумя различными способами:</p>
<ol>
<li>возврат EXDEV ошибки: эта ошибка возвращается вызовом <code>rename</code>, когда при попытке перемещения файла или директории нарушаются границы файловой системы. Приложение обычно готово обработать эту ошибку (<code>mv</code>, для примера, рекурсивно копирует дерево директорий). Это поведение по умолчанию.</li>
<li>Если свойство &ldquo;redirect_dir&rdquo; включено, тогда директория будет скопирована (без своего содержимого). Потом будет <em>установлен</em> расширенный атрибут &ldquo;trusted.overlay.redirect&rdquo; на <em>путь</em> оригинального местоположения от корня <em>наложения</em>. В заключении директория перемещается в новое место.</li>
</ol>
<p>Есть несколько способов настроить &ldquo;redirect_dir&rdquo; свойство.</p>
<p>Kernel config options:</p>
<ul>
<li>OVERLAY_FS_REDIRECT_DIR:
<ul>
<li>If this is enabled, then redirect_dir is turned on by  default.</li>
</ul>
</li>
<li>OVERLAY_FS_REDIRECT_ALWAYS_FOLLOW:
<ul>
<li>If this is enabled, then redirects are always followed by default. Enabling this results in a less secure configuration.  Enable this option only when worried about backward compatibility with kernels that have the redirect_dir feature and follow redirects even if turned off.</li>
</ul>
</li>
</ul>
<p>Module options (can also be changed through <code>/sys/module/overlay/parameters/*</code>) :</p>
<ul>
<li>&ldquo;redirect_dir=BOOL&rdquo;:
<ul>
<li>See OVERLAY_FS_REDIRECT_DIR kernel config option above.</li>
</ul>
</li>
<li>&ldquo;redirect_always_follow=BOOL&rdquo;:
<ul>
<li>See OVERLAY_FS_REDIRECT_ALWAYS_FOLLOW kernel config option above.</li>
</ul>
</li>
<li>&ldquo;redirect_max=NUM&rdquo;:
<ul>
<li>The maximum number of bytes in an absolute redirect (default is 256)</li>
</ul>
</li>
</ul>
<p>Mount options:</p>
<ul>
<li>&ldquo;redirect_dir=on&rdquo;:
Redirects are enabled.</li>
<li>&ldquo;redirect_dir=follow&rdquo;:
Redirects are not created, but followed.</li>
<li>&ldquo;redirect_dir=off&rdquo;:
Redirects are not created and only followed if &ldquo;redirect_always_follow&rdquo;
feature is enabled in the kernel/module config.</li>
<li>&ldquo;redirect_dir=nofollow&rdquo;:
Redirects are not created and not followed (equivalent to &ldquo;redirect_dir=off&rdquo;
if &ldquo;redirect_always_follow&rdquo; feature is not enabled).</li>
</ul>
<p>When the NFS export feature is enabled, every copied up directory is indexed by the file handle of the lower inode and a file handle of the upper directory is stored in a &ldquo;trusted.overlay.upper&rdquo; extended  attribute on the index entry.  On lookup of a merged directory, if the upper directory does not match the file handle stores in the index, that is an indication that multiple upper directories may be redirected to the same lower directory.  In that case, lookup returns an error and warns about a possible inconsistency.</p>
<p>Because lower layer redirects cannot be verified with the index, enabling NFS export support on an overlay filesystem with no upper layer requires turning off redirect follow (e.g. &ldquo;redirect_dir=nofollow&rdquo;).</p>
<h3 id="прочие-объекты-не-каталоги">Прочие объекты не-Каталоги</h3>
<p>Объекты, не являющиеся каталогами (файлы, симлинки, device-special files, и т.д.), представлены в <em>объединённой</em> ФС из <em>верхней</em>, либо из <em>нижней</em> файловой системы, по обстоятельствам. Когда требуется доступ на запись к файлу, представленному в нижней файловой системе, то сначала файл копируется из нижней ФС в верхнюю (copy_up). Обратите внимание, что создание жёсткой ссылки также требует copy_up, тогда как создание симлинка такой операции конечно не требует.</p>
<p>Если файл, открытый на запись, не был изменён, то операция copy_up выполнена не будет.</p>
<p>Процесс copy_up начинается с проверки наличия в <em>верхней</em> ФС соответствующих каталогов, которые создаются при необходимости. После чего в существующий или созданный каталог копируется объект с такими же метаданными (owner, mode, mtime, symlink-target etc.). Далее, в случае если объект это файл, то копируется содержимое нижнего файла в только что созданный файл в верхней ФС. В заключении копируются расширенные атрибуты.</p>
<p>После завершения процесса copy_up, overlay ФС предоставит прямой доступ к только что созданному файлу из <em>верхней</em> файловой системы. Последующие операции над файлом будут едва заметны для overlay ФС (тогда как операции над именем файла, вроде переименования или unlink, конечно будут замечены и обработаны).</p>
<h3 id="множество-нижних-слоёв">Множество нижних слоёв</h3>
<p>Множество нижних слоёв можно задать с помощью символа двоеточие (&quot;:&quot;), используя его как разделитель между именами каталогово. Для примера:</p>
<pre tabindex="0"><code>mount -t overlay overlay -olowerdir=/lower1:/lower2:/lower3 /merged
</code></pre><p>Как видно в примере, опции &ldquo;upperdir=&rdquo; и &ldquo;workdir=&rdquo; могут не указываться. И в этом случае наложение будет доступно только для чтения.</p>
<p>Указанные нижние каталоги будут стекированы справа налево, то есть lower1 будет на самом верху, lower2 посередине, а lower3 на нижнем уровне.</p>
<p><img src="/img/opisanie-failovoi-sistemy-overlayfs/ro-ro-overlay.png" alt=""></p>
<blockquote>
<p><em>В пустом каталоге <code>RawArchive</code>, после монтирования доступном только для чтения, мы увидим объединённое отображение двух папок c исходниками фото- и видеоматериалов. Все каталоги, задействованные в этой схеме, могут находиться, как на одном носителе, так и на разных (даже сетевых?).</em></p>
</blockquote>
<h3 id="копирование-только-метаданных">Копирование только метаданных</h3>
<p>Когда включена опция копирования только метаданных, overlayfs скопирует только метаданные (в отличие от всего файла), в том случае когда выполняется определённая операция, типа <code>chown/chmod</code>. Полностью файл будет скопирован после того, как файл будет открыт для <strong>записи</strong>.</p>
<p>Другими словами, это операция с задержкой копирования данных. Данные будут скопированы в том случае, если понадобится их изменение.</p>
<p>Есть несколько способов включения/отключния этой опции. Опция CONFIG_OVERLAY_FS_METACOPY может быть установлена/снята для включения/отключения этой функции по умолчанию. Или можно включить/отключить эту опцию во время загрузки модуля с параметром metacopy=on/off. И наконец, использовать опцию metacopy=on/off во время монтирования.</p>
<p>Не стоит использовать <em>metacopy=on</em> с ненадёжными верхним/нижним каталогом. Otherwise it is possible that an attacker can create a handcrafted file with appropriate REDIRECT and METACOPY xattrs, and gain access to file on lower pointed by REDIRECT. This should not be possible on local system as setting &ldquo;trusted.&rdquo; xattrs will require CAP_SYS_ADMIN. But it should be possible for untrusted layers like from a pen drive.</p>
<p>Note: redirect_dir={off|nofollow|follow(*)} conflicts with metacopy=on, and results in an error.</p>
<p>(*) redirect_dir=follow only conflicts with metacopy=on if upperdir=&hellip; is given.</p>
<h3 id="расшаривание-и-копирование-слоёв">Расшаривание и копирование слоёв</h3>
<p>Нижние слои могут совместно использоваться при монтировании нескольких разных overlay-стеков, и это обычная практика. При монтировании какой-нибудь Overlay может использовать тот же путь до каталога нижнего слоя, что и другой overlay mount.</p>

	
</div>


          </main>
        </div>
      </div>
      
<footer class="bg-dark py-5 row d-print-none">
  <div class="container-fluid mx-sm-5">
    <div class="row">
      <div class="col-6 col-sm-4 text-xs-center order-sm-2">
        
      </div>
      <div class="col-6 col-sm-4 text-right text-xs-center order-sm-3">
        
      </div>
      <div class="col-12 col-sm-4 text-center py-2 order-sm-2">
        <small class="text-white">&copy;&nbsp;2009&nbsp;&ndash;&nbsp;2024 Evgeny Nifantyev <br /><a href="https://t.me/debuntu_ru">Telegram</a><br> All Rights Reserved</small>
        
	
		
	
      </div>
    </div>
  </div>
</footer>


    </div>
    <script src="/js/main.min.73be0e798cb328decc7b6abbe26f2641a14dea3bf1d77a6f1ca067d3ab39374b.js" integrity="sha256-c74OeYyzKN7Me2q74m8mQaFN6jvx13pvHKBn06s5N0s=" crossorigin="anonymous"></script>
<script defer src="/js/click-to-copy.min.73478a7d4807698aed7e355eb23f9890ca18fea3158604c8471746d046702bad.js" integrity="sha256-c0eKfUgHaYrtfjVesj&#43;YkMoY/qMVhgTIRxdG0EZwK60=" crossorigin="anonymous"></script>
<script src='/js/tabpane-persist.js'></script>

  </body>
</html>