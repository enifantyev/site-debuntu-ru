---
title: "Использование XFS"
date: 2011-03-30
weight: 10
description: >
  Использование XFS
tags:
  - XFS
  - FileSystem
---

2011-03-30
Для использования xfs в debian необходимо установить пакеты `xfsprogs` и `xfsdump`.

Далее кратко:

- `mkfs.xfs` -- для форматирования;
- `xfs_db -r /dev/sda6` -- для сведений о текущей степени фрагментации (-r - read-only, для примонтированной фс);
- дефрагментация:
```
# xfs_db -r /dev/sda6
xfs_db> frag
actual 27414, ideal 514, fragmentation factor 98.13%
```
- `xfs_bmap` -- для просмотра фрагментации определённого файла;
- `xfs_fsr` -- для дефрагментации. На разделе должно быть столько свободного места, чтобы вместился самый большой файл. В некоторых случаях лучше просто произвести копирование файлов между разделами? Не лучше. Фрагментация после копирования туда-обратно снизилась с 96 до 60 процентов. Потом всё равно прогнал дефргаментатором.
- `xfs_check` -- для проверки отмонтированной фс xfs;
- `xfs_admin` -- для изменения параметров отмонтированной фс xfs;
- `xfs_growfs` -- для увеличения размера xfs (раздел увеличил, а потом и xfs растянул).
